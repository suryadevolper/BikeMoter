var pageType = "";
var pageTitle = "";
var porductCode = "";
var availableToSpend = "NA";
var onLoadFirstDealer = [];
if ($("meta[name=pageType]").attr("content") === 'pdp') {
    pageType = "Product Detail Page";
    pageTitle = "PDP";
}
var globalDataLayerObj = {};
var custmerName;

function setGlobalDataLayerObj() {
    try {
        if (localStorage.emiStoreCreditLimit) {
            // availableToSpend = parseInt(localStorage.emiStoreCreditLimit.replace(/â‚¹/g,'').replace(/ /g,'').replace(/Rs/g,'').replace(/\./g,'').replace(/,/g,''));
            globalDataLayerObj.availableToSpend = __common_service.getOnlyNumber(localStorage.emiStoreCreditLimit);
        } else {
            globalDataLayerObj.availableToSpend = 'NA';
        }
    } catch (error) {
        console.error('%c ' + error, 'color:red');
    }

    try {
        globalDataLayerObj.pageName = $("meta[name=pageType]").attr("content");
        globalDataLayerObj.pageType = $("meta[name=pageType]").attr("content");
        globalDataLayerObj.pageCategory = "Others";
        if (globalDataLayerObj.pageType == "pdp") {
            pageType = "Product Detail Page";
            globalDataLayerObj.pageName = "Product Detail Page";
        } else if (globalDataLayerObj.pageType == "plp") {
            pageType = "Product List Page";
            globalDataLayerObj.pageName = "Product List Page";
            globalDataLayerObj.pageCategory = "PLP"
        } else if (globalDataLayerObj.pageType == "clp") {
            pageType = "Category List Page";
            globalDataLayerObj.pageName = "Category List Page";
            globalDataLayerObj.pageCategory = "CLP";
        } else if (globalDataLayerObj.pageType == "prof-loan-pdp") {
            pageType = "Product Detail Page";
            globalDataLayerObj.pageName = "Product Detail Page";
        } else if (globalDataLayerObj.pageType == 'homepage') {
            pageType = "Home Page";
            globalDataLayerObj.pageName = "Home Page";
            globalDataLayerObj.pageCategory = "Home Page";
        } else {
            globalDataLayerObj.pageName = $("meta[name=pageType]").attr("content");
            pageType = $("meta[name=pageType]").attr("content");
            globalDataLayerObj.SellerScore = selectedDeliverySeller && selectedDeliverySeller.SellerScore;
            globalDataLayerObj.Distance = selectedDeliverySeller && selectedDeliverySeller.Distance;
        }
    } catch (error) {
        console.error('%c ' + error, 'color:red');
    }


}

var instaCheckPlaceorderLoad = function instaCheckPlaceorder() {
    try {

        var insurancevalue = '';
        var orderId = 0;
        var customerId = parseInt(0);
        var custmerName = "N/A";
        var availableToSpend = "null";
        var productName = $(".info-prod-head").eq(0).text();
        var entityId = parseInt($("meta[name=entityID]").attr("content"));
        var offerPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
        var brandName = $(".info-prod-head").text().split(" ")[0];
        var colorVariant = $(".color-name").text();
        var skuName = $("meta[name=productSku]").attr("content");
        var discountPercentage = parseInt($(".absolute-moneysaved").text().split(" ")[0]);
        if (discountPercentage < 0) {
            discountPercentage = 0;
        }
        var emiAmount = parseInt($(".absolute-emicost").text().split(",").join(''));
        var sellerName = "N/A";
        if (productData.status) {
            sellerName = $(".delivery-seller-name").text();
        }
        var downPaymentAmount = parseInt($(".absolute-downpaymentvalue").text().split(',').join(''));
        var productMrp = parseInt($(".absolute-discount-calc-offer-mrpprice").text().split(',').join(''));
        var firstSpecialOffer = $(".available-offers-new-list-text").text();
        var baseimageurl = $(".pc-single-img").attr("src");
        var productCategory = $("meta[name=category]").attr("content");
        var placeOrderResponse = emiStoreApiData.get("placeOrder");
        orderId = parseInt(placeOrderResponse.order_id);
        var insuranceFlag = emiStoreApiData.get("sellerhasInsurance");
        if ($(".select-fonesafepolicy-icon .selected") && (insuranceFlag == true)) {

            insurancevalue = "selected";
        } else {

            insurancevalue = "unselected";
        }
        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                if (__is_loginUSer()) {
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                console.log(err)
            }
        } else {
            if (__is_loginUSer()) {
                var cardLimit = $(".cardLimit-txt").text();
                availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }

            }
        }
        var data = {

            'name': productName,
            'orderId': orderId,
            'id': entityId,
            'price': offerPrice,
            'brand': brandName,
            'category': productCategory,
            'variant': colorVariant,
            "quantity": 1,
            'dimension2': customerId,
            'dimension3': emiAmount,
            'dimension4': "InstaBuy",
            'dimension10': skuName,
            'dimension11': 0,
            'dimension12': "N/A",
            'dimension13': 0,
            'dimension14': availableToSpend,
            'dimension60': offerPrice,
            'dimension64': insurancevalue,
            'dimension66': "No",
            //'dimension96': "N/A",
            'dimension97': custmerName,
            'pagetype': "Checkout-complete"
        }
        dataLayerEvents.checkout_complete(data);
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }
}

/*InstaPop UP*/
var instapopupload = function instapopup() {
    try {
        var cust_lat_long = "";
        var preferredDealerFlag = "";
        var locationlat = "";
        var locationlong = "";
        var insurancevalue = '';
        var customerId = parseInt(0);
        var custmerName = "N/A";
        var availableToSpend = 0;
        var productName = $(".info-prod-head").eq(0).text();
        var entityId = parseInt($("meta[name=entityID]").attr("content"));
        var offerPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
        var brandName = $(".info-prod-head").text().split(" ")[0];
        var colorVariant = $(".color-name").text();
        var skuName = $("meta[name=productSku]").attr("content");
        var discountPercentage = parseInt($(".absolute-moneysaved").text().split(" ")[0]);
        if (discountPercentage < 0) {
            discountPercentage = 0;
        }
        var emiAmount = parseInt($(".absolute-emicost").text().split(",").join(''));
        var model_id = productData.id;
        var sellerName = "N/A";
        var dealer_id = "N/A"
        if (productData.status) {
            sellerName = $(".delivery-seller-name").text();
            dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
            dealer_id = parseInt(dealer_id);
        }

        var downPaymentAmount = parseInt($(".absolute-downpaymentvalue").text().split(',').join(''));
        var productMrp = parseInt($(".absolute-discount-calc-offer-mrpprice").text().split(',').join(''));
        var firstSpecialOffer = $(".available-offers-new-list-text").text();
        var baseimageurl = $(".pc-single-img").attr("src");
        var productCategory = $("meta[name=category]").attr("content");
        var isNetflix = $(".select-netflix-offer").length == 1 ? ($(".select-netflix-offer .select-neflix-offer-icon").hasClass("selected") ? "Yes" : "No") : "No";

        var insuranceFlag = emiStoreApiData.get("sellerhasInsurance");
        if ($(".select-fonesafepolicy-icon .selected") && (insuranceFlag == true)) {

            insurancevalue = "selected";
        } else {

            insurancevalue = "unselected";
        }

        var buywithtext = 'No';

        if (productData.status) {
            buywithtext = 'No';
            if ($(".BWE-exchangeoffer-text .pdp-left-sepr").text() === 'Buy with exchange') {
                buywithtext = 'Yes';
            }
        }
        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                if ($("meta[name=pageType]").attr("content") === '2wpdp') {
                    var dataMapping = _getDataMapping();
                    var status = dataMapping.customerDetails.api.icorsFetchOffer.status
                    if (status) {
                        var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
                        availableToSpend = resp.offer_details[0].amount;
                        availableToSpend = parseInt(availableToSpend)
                    }
                } else {
                    availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                }
                if (__is_loginUSer()) {
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    if ($("meta[name=pageType]").attr("content") === '2wpdp') {
                        var dataMapping = _getDataMapping();
                        var status = dataMapping.customerDetails.api.icorsFetchOffer.status
                        if (status) {
                            var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
                            availableToSpend = resp.offer_details[0].amount;
                            availableToSpend = parseInt(availableToSpend)
                        }
                    } else {
                        availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    }
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                console.log(err)
            }
        } else {
            if (__is_loginUSer()) {
                var cardLimit = $(".cardLimit-txt").text();
                if ($("meta[name=pageType]").attr("content") === '2wpdp') {
                    var dataMapping = _getDataMapping();
                    var status = dataMapping.customerDetails.api.icorsFetchOffer.status
                    if (status) {
                        var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
                        availableToSpend = resp.offer_details[0].amount;
                        availableToSpend = parseInt(availableToSpend)
                    }
                } else {
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                }
                // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }

            }
        }

        var deliverlyType = "";
        var isPreferredTag = "No";
        if (productData.status) {
            deliverlyType = $("#homeDeliverySelector").hasClass("selected") ? "1" : "2";
            deliverlyType = parseInt(deliverlyType);
            isPreferredTag = $(".PreferredsellerTag").hasClass("hide-elem") ? "No" : "Yes";
        }

        var processingFees = "";
        productData.schemes.forEach(function (e) {
            for (var i in e) {
                if (productData.lowest_offer_price[0].scheme == e[i].SchemeId) {
                    processingFees = e[i].ProcessingFee
                }
            }
        });
        processingFees = processingFees ? processingFees : 0;

        var readPincode = decodeURI(readCookie("selected_city_pincode")).split("|")[0];
        var preferredDealer = __get_perpetual_session("preferred_dealer");
        var sellerScore = globalDataLayerObj.SellerScore;
        var distance = globalDataLayerObj.Distance;
        if (preferredDealer) {
            preferredDealerFlag = "Y"
        } else {
            preferredDealerFlag = "N"
        }
        var childDealer = "";
        // if(__is_loginUSer()){
        if (locationlatitude != undefined && locationlongitude != undefined) {
            locationlat = locationlatitude;
            locationlong = locationlongitude;
            cust_lat_long = locationlat + "/" + locationlong;
        }
        //}
        var dealer_lat_long = "";
        var dimension186 = readPincode + "|" + preferredDealer + "|" + sellerScore + "|" + distance + "|" +
            preferredDealerFlag + "|" + childDealer + "|" + cust_lat_long + "|" + dealer_lat_long + "|";

        productData.sellers && productData.sellers.forEach(function (eachSeller) {
            if (onChangeSellerID == eachSeller.SellerId) {
                porductCode = eachSeller.Offer.ProductCode;
            }

        })

        var data = {

            'name': productName,
            'id': entityId,
            'price': offerPrice,
            'brand': brandName,
            'category': productCategory,
            'variant': colorVariant,
            "quantity": 1,
            'dimension2': customerId,
            'dimension3': emiAmount,
            'dimension4': pageType,
            'dimension7': productName,
            "dimension9": productCategory,
            'dimension10': skuName,
            'dimension11': downPaymentAmount,
            'dimension12': productMrp,
            'dimension13': 0,
            'dimension14': availableToSpend,
            'dimension60': offerPrice,
            'dimension62': processingFees,
            'dimension64': insurancevalue,
            'dimension65': baseimageurl,
            'dimension66': buywithtext,
            'dimension67': brandName,
            'dimension68': sellerName,
            'dimension69': "",
            // 'dimension70': isNetflix,
            'dimension71': colorVariant,
            'dimension83': deliverlyType,
            'dimension84': isPreferredTag,
            //'dimension96': "N/A",
            'dimension97': custmerName,
            'dimension110': model_id,
            'dimension111': dealer_id,
            "dimension150": porductCode,
            'dimension186': dimension186

        }
        try {
            dataLayerEvents.checkout(data);
        } catch (error) {
            console.log(error);
        }
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }
    //});
}

//On Click of Change EMI Scheme 
/* function changeEMISchemeclick() {
    try {
        var customerId = "NA";
        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                if (__is_loginUSer()) {
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                console.log(err)
            }
        } else {
            if (__is_loginUSer()) {
                var cardLimit = $(".cardLimit-txt").text();
                availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
            }
        }

        var productName = $(".info-prod-head").eq(0).text();
        var popUpData = emiStoreApiData.get("instaBuyPopup");
        var DealerName = popUpData.dealer_address;
        var productPrice = "NA";
        var firstSpecialOffer = "NA"
        var model_id = productData.id;
        var dealer_id = "NA";

        if (productData.status) {
            dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
            dealer_id = parseInt(dealer_id);
            productPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
            firstSpecialOffer = $(".available-offers-new-list-text").text();
        }

        data = {
            'event': 'Order_Payment_Summary',
            'eventCategory': 'Change EMI Scheme click',
            'eventAction': productName,
            'eventLabel': DealerName,
            'dealer_id': dealer_id,
            'model_id': model_id,
            'Offer': firstSpecialOffer,
            'Price': productPrice,
            'customer_id': customerId
        };
        dataLayerEvents.Order_Payment_Summary(data);
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }
}; */

function deliveryOptionCheckDataLayer(datadeliverytype) {
    try {
        var eventCategory = '';
        if (datadeliverytype == 'homeDeliverySelector') {
            eventCategory = "Home Deliery";
        } else if (datadeliverytype == 'storeVisitSelector') {
            eventCategory = "Visit the store";
        }
        var productName = $(".info-prod-head").eq(0).text();
        var model_id = productData.id;
        var dealer_id = "N/A"
        var sellerName = "N/A";
        var productPrice = "N/A"
        var firstSpecialOffer = "N/A"
        if (productData.status) {
            sellerName = $(".delivery-seller-name").text();
            dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
            dealer_id = parseInt(dealer_id);
            productPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
            firstSpecialOffer = $(".available-offers-new-list-text").text();
        }

        var customerId = "NA";
        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                if (__is_loginUSer()) {
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                console.log(err)
            }
        } else {
            if (__is_loginUSer()) {
                var cardLimit = $(".cardLimit-txt").text();
                availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
            }
        }
        data = {
            'event': 'Order_Payment_Summary',
            'eventCategory': eventCategory,
            'eventAction': productName,
            'eventLabel': sellerName,
            'dealer_id': dealer_id,
            'model_id': model_id,
            'Offer': firstSpecialOffer,
            'Price': productPrice,
            'customer_id': customerId
        };

        dataLayerEvents.Order_Payment_Summary(data);
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }
}

function pdpSellerOptionCheckDataLayer() {
    try {
        var deliverlyType = "";
        var eventCategory = '';
        if (productData.status) {
            deliverlyType = $("#homeDeliverySelector").hasClass("selected") ? "homeDeliverySelector" : "storeVisitSelector";
        }
        if (deliverlyType == 'homeDeliverySelector') {
            eventCategory = "Home Deliery";
        } else if (deliverlyType == 'storeVisitSelector') {
            eventCategory = "Visit the store";
        }

        var productName = $(".info-prod-head").eq(0).text();
        var model_id = productData.id;
        var dealer_id = "N/A"
        var sellerName = "N/A";
        var productPrice = "N/A"
        var firstSpecialOffer = "N/A"
        if (productData.status) {
            sellerName = $(".delivery-seller-name").text();
            dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
            dealer_id = parseInt(dealer_id);
            productPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
            firstSpecialOffer = $(".available-offers-new-list-text").text();
        }

        var customerId = "NA";
        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                if (__is_loginUSer()) {
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                console.log(err)
            }
        } else {
            if (__is_loginUSer()) {
                var cardLimit = $(".cardLimit-txt").text();
                availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
            }
        }
        data2 = {
            'event': 'TwoWheelr_Order_Payment_Summary',
            'eventCategory': "Store Pickup",
            'eventAction': productName,
            'eventLabel': sellerName,
            'dealer_id': dealer_id,
            'model_id': model_id,
            'Offer': firstSpecialOffer,
            'Price': productPrice,
            'customer_id': customerId
        };
        dataLayerEvents.TwoWheeler_Order_Payment_Summary(data2);
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }
}

function pdpViewEmiOptionsDatalayer() {
    try {
        var productName = $(".info-prod-head").eq(0).text();
        var entityId = parseInt($("meta[name=entityID]").attr("content"));
        var model_id = productData.id;
        var dealer_id = "N/A"
        var sellerName = "N/A";
        var productPrice = "N/A"
        var firstSpecialOffer = "N/A"
        if (productData.status) {
            sellerName = $(".delivery-seller-name").text();
            dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
            dealer_id = parseInt(dealer_id);
            productPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
            firstSpecialOffer = $(".available-offers-new-list-text").text();
        }
        var customerId = "NA";
        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                if (__is_loginUSer()) {
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                console.log(err)
            }
        } else {
            if (__is_loginUSer()) {
                var cardLimit = $(".cardLimit-txt").text();
                availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
            }
        }
        data = {
            'event': 'Order_Payment_Summary',
            'eventCategory': 'View EMI Option',
            'eventAction': entityId,
            'eventLabel': sellerName,
            'dealer_id': dealer_id,
            'model_id': model_id,
            'Offer': firstSpecialOffer,
            'Price': productPrice,
            'customer_id': customerId
        };

        dataLayerEvents.Order_Payment_Summary(data);
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }

}

/* INSTALL CHARGES DATA LAYER START */
function dlInstallationAndChargesViewDetailClick() {
    var data = {
        'event': 'Installation_and_Dimension',
        'eventCategory': 'Installation_and_Dimension',
        'eventAction': 'CTA_click',
        'eventLabel': 'Details_viewed',
        'CustomerID': __get_perpetual_session("customer_id"), ///bfl custid 0th position on perpetual data to be decoded and send
        'DealerID': onChangeSellerID, // selected dealer
        'ModelID': productData.id, // product id
        'DealerName': selectedDeliverySeller.SellerName, // selected dealer
        'Dealer_Type': '', //Keep it blank
        'ProductName': skuName    //Product Name
    }
    dataLayerEvents.Installation_and_Dimension(data)
}

function dlInstallationAndChargesSelectUnselect() {
    var checkboxValue = $(".installation-charges-check-uncheck-event").prop("checked") ? "Installation checkbox selected" : "Installation checkbox unselected";
    var data = {
        'event': 'Installation_and_Dimension',
        'eventCategory': 'Installation_and_Dimension',
        'eventAction': checkboxValue,
        'eventLabel': 'installation_amount',
        'CustomerID': __get_perpetual_session("customer_id"), ///bfl custid 0th position on perpetual data to be decoded and send
        'DealerID': onChangeSellerID, // selected dealer
        'ModelID': productData.id, // product id
        'DealerName': selectedDeliverySeller.SellerName, // selected dealer
        'Dealer_Type': '', //Keep it blank
        'ProductName': skuName    //Product Name
    }
    dataLayerEvents.Installation_and_Dimension(data)
}

/******************* buyNow_Click_Product_Details_ DataLayer Start *******************/

function buyNow_Click_Product_Details_Datalayer() {
    try {
        var cust_lat_long = "";
        var preferredDealerFlag = "";
        var locationlat = "";
        var locationlong = "";
        var productName = $(".info-prod-head").eq(0).text();
        var insuranceSelection = $(".fonesafeprotec").eq(fonesafecheck).find(".select-fonesafepolicy-icon").hasClass("selected");
        var dealer_id = "N/A";
        var sellerName = "N/A";
        var productPrice = "N/A";
        var Model_Id = "N/A";
        var DealerType = "N/A";
        var readPincode = decodeURI(readCookie("selected_city_pincode")).split("|")[0];
        var preferredDealer = __get_perpetual_session("preferred_dealer");
        var sellerScore = globalDataLayerObj.SellerScore;
        var distance = globalDataLayerObj.Distance;
        if (preferredDealer) {
            preferredDealerFlag = "Y"
        } else {
            preferredDealerFlag = "N"
        }
        var childDealer = "";
        // if(__is_loginUSer()){
        if (locationlatitude != undefined && locationlongitude != undefined) {
            locationlat = locationlatitude;
            locationlong = locationlongitude;
            cust_lat_long = locationlat + "/" + locationlong;
        }
        //}
        var dealer_lat_long = "";
        var dimension186 = readPincode + "|" + preferredDealer + "|" + sellerScore + "|" + distance + "|" +
            preferredDealerFlag + "|" + childDealer + "|" + cust_lat_long + "|" + dealer_lat_long + "|";
        if (productData.status) {
            sellerName = $(".delivery-seller-name").text();
            dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
            dealer_id = parseInt(dealer_id);
            productPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
            Model_Id = productData.id;
            DealerType = selectedDeliverySeller.Offer.ProductCode;
        }
        var customerId = "NA";
        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                if (readCookie('perpetual_session')) {
                    var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (readCookie("perpetual_session")) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                console.log(err)
            }
        } else {
            if (readCookie("perpetual_session")) {
                var cardLimit = $(".cardLimit-txt").text();
                availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
            }
        }
        data = {
            'event': 'Buy_now_click_ProdcutDetailsPage_28',
            'pageType': pageType,
            'pageTitle': pageTitle,
            'product_name': productName,
            'customer_id': customerId,
            'available_to_spend': availableToSpend,
            'selection': insuranceSelection,
            'Dealer_Name': sellerName,
            'Model_Id': Model_Id,
            'Dealer_ID': dealer_id,
            'Amount': productPrice,
            'Dealer_Type': DealerType,
            'dimension186': dimension186
        };

        dataLayerEvents.Buy_now_click_ProdcutDetailsPage_28(data);
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }

}

/******************* buyNow_Click_Product_Details_ DataLayer END *******************/

/******************* add_WishList_Click_Datalayer Start *******************/

function add_WishList_Click_Datalayer_PDP() {
    try {
        var pageType = globalDataLayerObj.pageType;
        var datalayerType = $("meta[name=pageType]").attr("content") == "plp" ? "plpdatalayer" : "pdpdatalayer";
        if (datalayerType == "pdpdatalayer") {
            var productName = $(".info-prod-head").eq(0).text();
            var insuranceSelection = $(".fonesafeprotec").eq(fonesafecheck).find(".select-fonesafepolicy-icon").hasClass("selected");
            var dealer_id = "N/A";
            var sellerName = "N/A";
            var productPrice = "N/A";
            var Model_ID = "N/A";
            var DealerType = "N/A";
            var pageType = globalDataLayerObj.pageType
            if (productData.status) {
                sellerName = $(".delivery-seller-name").text();
                dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
                dealer_id = parseInt(dealer_id);
                productPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
                Model_ID = productData.id;
                DealerType = selectedDeliverySeller.Offer.ProductCode;
            }
            var customerId = "NA";
            if (localStorage.hasOwnProperty('cardStatus')) {
                try {
                    var jsonData = localStorage;
                    availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                    if (readCookie('perpetual_session')) {
                        var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                        customerId = __get_perpetual_session("customer_id");
                        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                    }
                    custmerName = localStorage.emiStoreName;

                } catch (err) {
                    if (readCookie("perpetual_session")) {
                        var cardLimit = $(".cardLimit-txt").text();
                        availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                        var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                        customerId = __get_perpetual_session("customer_id");
                        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                    }
                    console.log(err)
                }
            } else {
                if (readCookie("perpetual_session")) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
            }
            if (__is_loginUSer()) {
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
            }
            data = {
                'event': 'add_to_wishlist_click_all_pages_12',
                'pageType': pageType,
                'pageTitle': pageTitle,
                'product_name': productName,
                'customer_id': customerId,
                'available_to_spend': availableToSpend,
                'Dealer Name': sellerName,
                'Model ID': Model_ID,
                'Dealer ID': dealer_id,
                'Amount': productPrice,
                'Dealer Type': DealerType
            };
            if(pageType.includes("2w")){
                dataLayerEvents.TwoWheeler_add_to_wishlist_click_all_pages_12(data, datalayerType);
            }else{
            dataLayerEvents.add_to_wishlist_click_all_pages_12(data, datalayerType);
            }
        } else if (datalayerType == "plpdatalayer") {
            var pageType = $("meta[name=pageType]").attr("content");
            if (pageType == "plp") {
                pageType = "Product List Page";
            }
            var pageTitle = $(document).find("title").text();
            var productName = $(".PLP-prod-name-text").text();
            var availableToSpend = __common_service.getOnlyNumber(localStorage.emiStoreCreditLimit);
            var customerId = "";
            if (__is_loginUSer()) {
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
            }
            data = {
                'event': 'add_to_wishlist_click_all_pages_12',
                'pageType': pageType,
                'pageTitle': pageTitle,
                'product_name': productName,
                'customer_id': customerId,
                'available_to_spend': availableToSpend,
            };
            var pagetype = globalDataLayerObj.pageType
            if(pageType.includes("2w")){
                dataLayerEvents.TwoWheeler_add_to_wishlist_click_all_pages_12(data, datalayerType);
            }else{
            dataLayerEvents.add_to_wishlist_click_all_pages_12(data, datalayerType);
            }
        }

    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }

}

/******************* add_WishList_Click_Datalayer End *******************/

function dlApplyCouponBtnClick() {
    var data = {
        'event': 'promocode_apply_click_cart_page_4',
        "pageType": "InstaBuy",
        "pageTitle": "InstaBuy",
        "product_name": globalDataLayerObj.productName,
        "promoCode": globalDataLayerObj.promoCode,
        "customer_id": globalDataLayerObj.customerId,
        "available_to_spend": globalDataLayerObj.availableToSpend,
    }
    dataLayerEvents.TwoWheeler_promocode_apply_click_cart_page_4(data);
}

function dlInsuranceSelecteNUnSelect(e) {
    try {
        var customerId = 0;
        var availableToSpend = 0;
        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                if (__is_loginUSer()) {
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }

                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                console.log(err)
            }
        }
        var pageTitle = $(document).find("title").text();
        var pageType = "";
        if ($("meta[name=pageType]").attr("content") === 'pdp' || $("meta[name=pageType]").attr("content") === '2wpdp') {
            pageType = "Product Detail Page";
        }
        var available_to_spend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
        var productName = $(".info-prod-head").text();
        var offerName = $(".fonesafepolicy-details-info").find("p").text();
        // var selection = $(".select-fonesafepolicy-icon").hasClass("selected") ? "selected" : "un-selected";
        var current = e.target;
        var selection = ""
        if ($(current).hasClass("btn_cancel")) {
            selection = $(current).hasClass("btn_cancel") ? "selected" : "un-selected";
        }
        selection = $("#insta-popup").find(".insuranceSelected-cb").prop("checked") == true ? "selected" : "un-selected";


        // var insChecked = $(".insuranceSelected-cb").is(":checked")
        // if(insChecked && $(current).hasClass("insuranceSelected-cb")){
        //     var data = {
        //         'event':'protect_what_you_buy_click_Commerce_ProductDetailsPage_21',
        //         'pageType': pageType,		//i.e. Product Detail Page
        //         'pageTitle': pageTitle,		//i.e. pdp
        //         'productName': productName,	//i.e. Noble Skiodo 81 cm (32 inches) 32CN32P01 HD Ready LED TV (Black)
        //         'offerName': offerName,                //i.e. phone safe insurance - 1 year
        //         'selection': "selected",                //i.e. selected/un-selected
        //         'customerId': customerId,
        //         'available_to_spend': available_to_spend
        //     }   
        // }
        // if(!insChecked && $(current).hasClass("insuranceSelected-cb")){
        //     var data = {
        //         'event':'protect_what_you_buy_click_Commerce_ProductDetailsPage_21',
        //         'pageType': pageType,		//i.e. Product Detail Page
        //         'pageTitle': pageTitle,		//i.e. pdp
        //         'productName': productName,	//i.e. Noble Skiodo 81 cm (32 inches) 32CN32P01 HD Ready LED TV (Black)
        //         'offerName': offerName,                //i.e. phone safe insurance - 1 year
        //         'selection': "un-selected",                //i.e. selected/un-selected
        //         'customerId': customerId,
        //         'available_to_spend': available_to_spend
        //     }  
        // }
        if ($(current).hasClass("btn_cancel") || $(current).hasClass("btn_remove")) {
            var data = {
                'event': 'protect_what_you_buy_click_Commerce_ProductDetailsPage_21',
                'pageType': pageType, //i.e. Product Detail Page
                'pageTitle': pageTitle, //i.e. pdp
                'productName': productName, //i.e. Noble Skiodo 81 cm (32 inches) 32CN32P01 HD Ready LED TV (Black)
                'offerName': offerName, //i.e. phone safe insurance - 1 year
                'selection': selection, //i.e. selected/un-selected
                'customerId': customerId,
                'available_to_spend': globalDataLayerObj.availableToSpend
            }
        } else {
            var data = {
                'event': 'protect_what_you_buy_click_Commerce_ProductDetailsPage_21',
                'pageType': pageType, //i.e. Product Detail Page
                'pageTitle': pageTitle, //i.e. pdp
                'productName': productName, //i.e. Noble Skiodo 81 cm (32 inches) 32CN32P01 HD Ready LED TV (Black)
                'offerName': offerName, //i.e. phone safe insurance - 1 year
                'selection': selection, //i.e. selected/un-selected
                'customerId': customerId,
                'available_to_spend': globalDataLayerObj.availableToSpend
            }
        }
        var pageType = globalDataLayerObj.pageType;
        dataLayerEvents.TwoWheeler_protect_what_you_buy_click_Commerce_ProductDetailsPage_21(data);
    } catch (error) {
        console.log(error);
    }
}

function instaBuyNowDataLayer(eventLabel) {
    try {
        var dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
        dealer_id = parseInt(dealer_id);
        pageType = globalDataLayerObj.pageType;

        var availableToSpend = "NA";
        switch (eventLabel) {
            case "Place_Order":
                eventLabel = "Place_Order";
                break;
            case "Resend-otp":
                eventLabel = "Resend-otp";
                break;
            case "Submit_success":
                eventLabel = "Submit_success";
                break;
            case "Checkout":
                eventLabel = "Place_Order";
                data.pageType = "Checkout";
                data.pageTitle = "Checkout";
                break;
            case "Submit_fail":
                eventLabel = "Submit_fail";
                break;
        }
        var dataMapping = _getDataMapping();
        var status = dataMapping.customerDetails.api.icorsFetchOffer.status
        if (status) {
            resp = dataMapping.customerDetails.api.icorsFetchOffer.response
            availableToSpend = resp.offer_details[0].amount;
            var availablePrice = parseInt(availableToSpend);
        }
        var data2 = {
            "event": "login_click_all_pages_14",
            "pageType": "Instabuy",
            "pageTitle": "Instabuy",
            "eventLabel": "TwoWheeler_Place_Order",
            "eventCategory": availablePrice,
            "transactionId": globalDataLayerObj.instaTransactionId,
            "dealer_id": dealer_id,
            "magento_id": __get_perpetual_session("m_customer_id"),
            "prospect_id": "",
            "gtm.uniqueEventId": 39
        }
        dataLayerEvents.login_click_all_pages_14(data2);
    } catch (error) {
        console.error("DataLayer Error : ", error);
    }
}

function dlSchemeChangeInstaBuy() {
    try {
        var customerId = __get_perpetual_session("customer_id");
        customerId = customerId ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var dealerID = jsHelper.isDef(selectedDeliverySeller.SellerId) ? selectedDeliverySeller.SellerId : '';
        var product_offer = $(".available-offers-new-list-text").length > 0 ? $(".available-offers-new-list-text").text() : '';
        var obj = {
            eventLabel: String(emiStoreApiData.get("scheme_id")),
            CustomerID: customerId,
            dealer_id: dealerID,
            model_id: productData.id,
            Offer: product_offer,
            Price: parseInt(productData.mrp),
        }
        dataLayerEvents.Scheme_Selection_instabuy(obj)
    } catch (error) {
        console.log(error);
    }
}

function dlRemovePromoCodeInstaBuy(evtAction) {
    try {
        var customerId = __get_perpetual_session("customer_id");
        customerId = customerId ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var promo_code = '';
        if (jsHelper.isDef(globalDataLayerObj.promoCode)) {
            promo_code = globalDataLayerObj.promoCode;
        } else {
            promo_code = $(".couponCode-txt").text();
        }
        var productName = $(".info-prod-head").length > 0 ? $(".info-prod-head").text() : '';
        var cardLimit = localStorage.emiStoreCreditLimit;
        var availabletospend;
        if (jsHelper.isDef(cardLimit)) {
            cardLimit.indexOf('â‚¹') == -1 ? availabletospend = parseInt(cardLimit.split("Rs. ").join('').replace(/,/g, '')) : availabletospend = parseInt(cardLimit.split("Rs. â‚¹").join('').replace(/,/g, ''));
        } else {
            availableToSpend = 0;
        }
        var obj = {
            product_name: productName,
            promoCode: promo_code,
            customer_id: customerId,
            available_to_spend: availabletospend,
        };
        dataLayerEvents.promocode_remove_click_cart_page_4(obj);
    } catch (error) {
        console.log(error);
    }
}
/*********************** Notify Me OOS DataLayer START ********************/
function dlNotifyMe() {
    try {
        var model_id = productData.id;
        var customerId = "";
        var product_name = $(".info-prod-head").text();
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var dataobj = {
            pageType: globalDataLayerObj.pageName,
            // productName: globalDataLayerObj.productName,
            customerId: customerId,
            modeId: model_id,
            productName: product_name,
            magentoId: __get_perpetual_session("m_customer_id")
        }
        dataLayerEvents.Notify_Me_click_ProdcutDetailsPage_28(dataobj)
    } catch (error) {
        console.error('%c ' + error, 'color:red');
    }
}

/*********************** Notify Me OOS DataLayer End ********************/

/*********************** callInstallationDimension Start ********************/
function callInstallationDimension(data) {
    try {
        var delear_Name = selectedDeliverySeller.SellerName;
        var delear_id = onChangeSellerID;
        var sku_name = $("meta[name=productSku]").attr("content");
        var dealerType = selectedDeliverySeller.Offer.ProductCode;
        var dimension = '';
        var dimensionVal = '';

        if (data.indexOf('x') > 0 || data.indexOf('X') > 0) {
            dimension = "select_dimension";
            dimensionVal = data;
        } else {
            dimension = "select_height";
            dimensionVal = data;
        }


        var dataobj = {
            select_dimension: dimension,
            dimensionsValue: dimensionVal,
            customerId: __get_perpetual_session("customer_id", "encry"),
            dealerName: delear_Name,
            dealerId: delear_id,
            modelId: productData.id,
            dealerType: dealerType,
            productName: sku_name,
        }
        dataLayerEvents.Installation_and_Dimension(dataobj)
    } catch (error) {
        console.error(error)
    }
}
/*********************** callInstallationDimension End ********************/

/*********************** Extend Warranty DataLayer Start ********************/
function dlExtendWarrantyMoreBenefit() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var insurance_type = $('#insurance-type').val();
        var data = {
            'event': 'Secure_Product',
            'eventCategory': 'Secure Product',
            'eventAction': '{{CTA_click}}',
            'eventLabel': insurance_type,      //type
            'CustomerID': customerId,        //bfl custid 0th position on perpetual data it has to be decrypted
            'DealerID': onChangeSellerID,      // selected Dealer
            'ModelID': productData.id,      //id on PDP oload API
            'DealerName': selectedDeliverySeller.SellerName,/// Selected Dealer
            'Dealer_Type': '',   //Leave it Blank
            'ProductName': skuName
        }

        dataLayerEvents.Secure_Product(data);
    } catch (error) {
        console.error(error);
    }
}

function dlExtendWarrantySelectUnselect() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var insurance_type = $('#insurance-type').val();
        var checkboxVal = $('.select-unselect-event').prop('checked') == true ? 'selected' : 'unselected'
        var data = {
            'event': 'Secure_Product',
            'eventCategory': 'Secure Product',
            'eventAction': checkboxVal,
            'eventLabel': insurance_type,      //type
            'CustomerID': customerId,        //bfl custid 0th position on perpetual data it has to be decrypted
            'DealerID': onChangeSellerID,      // selected Dealer
            'ModelID': productData.id,      //id on PDP oload API
            'DealerName': selectedDeliverySeller.SellerName,/// Selected Dealer
            'Dealer_Type': '',   //Leave it Blank
            'ProductName': skuName
        }

        dataLayerEvents.Secure_Product(data);
    } catch (error) {
        console.log(error);
    }
};

function dlExtendWarrantySelectInsurance() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var insurance_type = $('#insurance-type').val();
        var insuranceTenure = $('.absolute-monthduration').text()
        var tenure = Number(insuranceTenure.split(' ')[0])
        var data = {
            'event': 'Secure_Product',
            'eventCategory': 'Secure Product',
            'eventAction': tenure,
            'eventLabel': insurance_type,      //type
            'CustomerID': customerId,        //bfl custid 0th position on perpetual data it has to be decrypted
            'DealerID': onChangeSellerID,      // selected Dealer
            'ModelID': productData.id,      //id on PDP oload API
            'DealerName': selectedDeliverySeller.SellerName,/// Selected Dealer
            'Dealer_Type': '',   //Leave it Blank
            'ProductName': skuName
        }

        dataLayerEvents.Secure_Product(data);
    } catch (error) {
        console.error(error)
    }


}
/*********************** Extend Warranty DataLayer End ********************/

/*********************** Insta-Buy Datalayer Start ********************/
function dlInstaBuyEditAddress() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var dealerType = selectedDeliverySeller.Offer.ProductCode;
        var productName = $('.info-prod-head').text()
        var data = {
            'event': 'instabuy',
            'eventCategory': 'Instabuy',
            'eventAction': 'Address Edit Button Click',
            'CustomerID': customerId,
            'pageType': globalDataLayerObj.pageName,
            'ModelID': productData.id,
            'productname': productName,
            'Dealer_ID': onChangeSellerID,
            'Dealer_Type': dealerType,
        }
        dataLayerEvents.insta_buy(data);
    } catch (error) {
        console.error(error);
    }


};

function dlInstaBuyCTA(val) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var productName = $('.info-prod-head').text();
        var dealerType = selectedDeliverySeller.Offer.ProductCode;
        var amount = $('.absolute-discount-calc-offer-price').text().split(',').join('');
        amount = parseInt(amount);
        var clickTxtVal = val

        var data = {
            'event': 'instabuy',
            'eventCategory': 'Instabuy',
            'eventAction': clickTxtVal,
            'eventLabel': amount,
            'CustomerID': customerId,
            'pageType': globalDataLayerObj.pageName,
            'ModelID': productData.id,
            'productname': productName,
            'Dealer_ID': onChangeSellerID,
            'Dealer_Type': dealerType,
        }
        dataLayerEvents.insta_buy(data);
    } catch (error) {
        console.error(error);
    }

};

function dlInstaBuyViewDetails(val) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var dealerType = selectedDeliverySeller.Offer.ProductCode;
        var amount = $('.absolute-discount-calc-offer-price').text().split(',').join('');
        amount = parseInt(amount);
        var productName = $('.info-prod-head').text();

        var data = {
            'event': 'instabuy',
            'eventCategory': 'Instabuy',
            'eventAction': 'Delivery Details',
            'eventLabel': val,
            'CustomerID': customerId,
            'pageType': globalDataLayerObj.pageName,
            'ModelID': productData.id,
            'productname': productName,
            'Dealer_ID': onChangeSellerID,
            'Dealer_Type': dealerType,
            'Amount': amount
        }
        dataLayerEvents.insta_buy(data);
    } catch (error) {
        console.error(error);
    }

};

function dlInstaBuyOtpConfirmation(val) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var dealerType = selectedDeliverySeller.Offer.ProductCode;
        var amount = $('.absolute-discount-calc-offer-price').text().split(',').join('');
        amount = parseInt(amount);
        var productName = $('.info-prod-head').text();

        var data = {
            'event': 'instabuy',
            'eventCategory': 'Instabuy',
            'eventAction': 'OTP Confirmation',
            'eventLabel': val,
            'CustomerID': customerId,
            'pageType': globalDataLayerObj.pageName,
            'ModelID': productData.id,
            'productname': productName,
            'Dealer_ID': onChangeSellerID,
            'Dealer_Type': dealerType,
            'Amount': amount,
            'DealerName': selectedDeliverySeller.SellerName
        }
        dataLayerEvents.insta_buy(data);
    } catch (error) {
        console.error(error);
    }

};

/*********************** Insta-Buy Datalayer End ********************/

/*********************** Explore Data Layer Start ********************/

function dlexploreProducts(data, product_id) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var modelId = productData.id;
        var productName = $(".info-prod-head").text()
        if ($("meta[name=pageType]").attr("content") === 'pdp') {
            pageType = "Product Detail Page";
            pageTitle = "PDP";
        }
        var modelid = product_id ? parseInt(product_id) : "";
        var productname = data;
        var obj = {
            'eventAction': productname,
            'eventLabel': modelid,
            'CustomerID': customerId,
            'pageType': pageType,
            'model_id': modelId,
            'productname': productName
        }
        dataLayerEvents.explore_similar_products(obj);
    } catch (error) {
        console.log(error);
    }


}
/*********************** Explore Data Layer End ********************/

/*********************** Insurance Selection Datalayer Starts ********************/
function dlInsuranceCheck(checkOrNot) {
    try {
        var productName = $(".info-prod-head").text();
        var customerId = __get_perpetual_session("customer_id");
        customerId = customerId ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var dealerType = selectedDeliverySeller.Offer.ProductCode;
        var modelId = productData.id;
        var dealerId = onChangeSellerID;
        var selectionMessage = '';
        if (checkOrNot) {
            selectionMessage = 'Insurance_option_checked';
        } else {
            selectionMessage = 'Insurance_option_unchecked';
        }
        var obj = {
            insurance_checkbox_message: selectionMessage,
            customer_id: customerId,
            model_id: modelId,
            dealer_Id: dealerId,
            product_name: productName,
            dealer_type: dealerType,
        }
        dataLayerEvents.Insurance_selection(obj)
    } catch (error) {
        console.log(error)
    }
}
/*********************** Insurance Selection Datalayer Ends ********************/

function dlViewMoreSellers() {
    try {
        var productName = $(".info-prod-head").text();
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var pageType = globalDataLayerObj.pageType;
        var modelId = productData.id;
        var obj = {
            product_name: productName,
            customer_id: customerId,
            page_type: pageType,
            model_id: modelId
        }
        dataLayerEvents.TwoWheeler_view_Seller(obj)
    } catch (error) {
        console.log(error)
    }
}

function dlViewMoreBenefit() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var modelId = productData.id;
        var productName = $(".info-prod-head").text();
        var dealerId = selectedDeliverySeller.SellerId;
        var dealerType = selectedDeliverySeller ? selectedDeliverySeller.Offer.ProductCode : " ";
        var obj = {
            Customer_ID: customerId,
            Model_ID: modelId,
            Dealer_ID: dealerId,
            Dealer_type: dealerType,
            Product_Name: productName,
        }
        dataLayerEvents.view_more_benefits(obj);
    } catch (error) {
        console.error(error);
    }
}

function dlSelectPlan(eventaction) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var modelId = productData.id;
        var productName = $(".info-prod-head").text();
        var dealerId = selectedDeliverySeller.SellerId;
        var dealerType = selectedDeliverySeller ? selectedDeliverySeller.Offer.ProductCode : " ";
        var obj = {
            eventAction: eventaction,
            Customer_ID: customerId,
            Model_ID: modelId,
            Dealer_ID: dealerId,
            Dealer_type: dealerType,
            Product_Name: productName,
        }
        dataLayerEvents.select_plan(obj);
    } catch (error) {
        console.error(error);
    }
}

function dlCheckBoxClick() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var modelId = productData.id;
        var productName = $(".info-prod-head").text();
        var dealerId = selectedDeliverySeller.SellerId;
        var dealerType = selectedDeliverySeller ? selectedDeliverySeller.Offer.ProductCode : " ";
        var eventAction
        eventAction = $('.select-unselect-event').prop('checked') == true ? 'TwoWheeler secure_your_product_checked' : 'TwoWheeler secure_your_product_unchecked';

        var obj = {
            eventAction: eventAction,
            Customer_ID: customerId,
            Model_ID: modelId,
            Dealer_ID: dealerId,
            Dealer_type: dealerType,
            Product_Name: productName,
        }
        dataLayerEvents.checkbox_click(obj);
    } catch (error) {
        console.error(error);
    }
}

function dlCrossIcon() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var model_id = productData.id;
        var dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
        dealer_id = dealer_id ? parseInt(dealer_id) : "";
        var dealer_type = selectedDeliverySeller.Offer.ProductCode;
        var dealer = $(".delivery-seller-name").text();
        var productname = $(".info-prod-head").text();
        var obj = {
            'Customerid': customerId,
            'Modelid': model_id,
            'Dealerid': dealer_id,
            'Dealertype': dealer_type,
            'Dealer_name': dealer,
            'Productname': productname,
        }
        dataLayerEvents.TwoWheeler_Cancel_CTA(obj)
    }
    catch (error) {
        console.log(error)
    }
}

function dlAddressChange(addressType) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var model_id = productData.id;
        var dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
        dealer_id = dealer_id ? parseInt(dealer_id) : "";
        var productname = $(".info-prod-head").text();
        var dealer = $(".delivery-seller-name").text();
        var dealer_type = selectedDeliverySeller.Offer.ProductCode;
        var obj = {
            'Customerid': customerId,
            'Modelid': model_id,
            'Dealerid': dealer_id,
            'Dealer_type': dealer_type,
            'Productname': productname,
            'Selecte_address_text': addressType,
            'Dealer_name': dealer,
        }
        dataLayerEvents.PDP_address_change(obj)
    }
    catch (error) {
        console.log(error)
    }
}

function dlPincodeChange() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var model_id = productData.id;
        var dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
        dealer_id = dealer_id ? parseInt(dealer_id) : "";
        var productname = $(".info-prod-head").text();
        var address = $(".delivery-seller-location").text();
        var dealer = $(".delivery-seller-name").text();
        var amount = $(".absolute-discount-calc-mrp-price").text();
        var obj = {
            'Customerid': customerId,
            'Modelid': model_id,
            'Dealerid': dealer_id,
            'Productname': productname,
            'Selecte_address_text': address,
            'Dealer_name': dealer,
            'amount': amount
        }
        dataLayerEvents.TwoWheeler_pincode_submit(obj)
    }
    catch (error) {
        console.log(error)
    }
}

function dlCompareSimilarProduct(clickedProductName, productId) {
    var customerId = "";
    customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
    customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob((customerId).split("|"))).split('_')[1]) : "";
    var productName = $(".info-prod-head").text();
    var pageType = globalDataLayerObj.pageType;
    try {
        var dataobj = {
            eventAction: clickedProductName,
            eventLabel: productId,
            page_Type: pageType,
            customer_id: customerId,
            model_id: productData.id,
            product_name: productName
        }
        dataLayerEvents.TwoWheeler_compare_similar_products(dataobj)
    } catch (error) {
        console.error(error)
    }
}

function dlSchemeSelection(schemeId) {
    var firstOffer = $('.available-offers-new-main').find('.available-offers-new-list').eq(0).find('.available-offers-new-list-text').text();
    firstOffer = firstOffer ? firstOffer : '';
    var price = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
    var productName = $('.info-prod-head').text();
    var data = {
        'event': "Scheme_Selection_PDP",
        'eventCategory': 'Change EMI Scheme',
        'eventAction': schemeId,                //Selected scheme id
        'eventLabel': productName,      //sku name
        'DealerID': onChangeSellerID,      // selected Dealer
        'pageType': globalDataLayerObj.pageName,
        'model_id': productData.id,      //id on PDP oload API
        'offer': firstOffer,
        'Price': price
    }
    dataLayerEvents.TwoWheeler_Scheme_Selection_PDP(data);

}

function dlChangePincode() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var modelId = productData.id;
        var productName = $(".info-prod-head").text()
        var dealerName = selectedDeliverySeller.SellerName;
        var dealerId = selectedDeliverySeller.SellerId;
        var amount = parseInt(productData.mrp);
        var dealerType = selectedDeliverySeller ? selectedDeliverySeller.Offer.ProductCode : " ";
        var obj = {
            Customer_ID: customerId,
            Model_ID: modelId,
            Product_Name: productName,
            Dealer_Name: dealerName,
            Dealer_ID: dealerId,
            Amount: amount,
            Dealer_type: dealerType
        }
        dataLayerEvents.TwoWheeler_pincode_change(obj);

    } catch (error) {
        console.log(error)
    }
}

function dlSelectVariant(activeVarient, activeStorage, activeColor) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var pageType = globalDataLayerObj.pageType;
        var model_id = productData.id;
        var dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
        dealer_id = dealer_id ? parseInt(dealer_id) : "";
        var dealer_type = selectedDeliverySeller.Offer.ProductCode;
        var dealer = $(".delivery-seller-name").text();
        var productname = $(".info-prod-head").text();
        var message = "";
        var varient = pageType == "2wpdp" ? productData.variants[0].variant_type : productData.variants[0].ram;
        var color = productData.variants[0].color
        var storage = productData.variants[0].internal_storage;
        var cicTxt = pageType == "2wpdp" ? 'TwoWheeler_CIC' : 'CIC '
        if (varient) {
            message = cicTxt + activeVarient + ' Component_click';
        }
        if (color) {
            message = cicTxt + activeColor + ' Component_click'
        }
        if (storage) {
            message = cicTxt + activeStorage + ' Component_click'
        }
        if (varient && color) {
            message = cicTxt + activeVarient + '|' + activeColor + ' Component_click'
        }
        if (varient && storage) {
            message = cicTxt + activeVarient + '| ' + activeStorage + ' Component_click'
        }
        if (color && storage) {
            message = cicTxt + activeColor + '|' + activeStorage + ' Component_click'
        }
        if (varient && color && storage) {
            message = cicTxt + activeVarient + ' |' + activeStorage + '| ' + activeColor + ' Component_click'
        }
        var obj1 = {
            'event': 'CIC_Component_click',
            'eventCategory': 'TwoWheeler_CIC Component click',
            'eventAction': message,
            'eventLabel': 'NA',
            'Customer id': customerId,
            'Model id': model_id,
            'Dealer id': dealer_id,
            'Dealer name': dealer,
            'Dealer type': dealer_type,
            'Product name': productname
        }
        dataLayerEvents.CIC_Component_click(obj1)
    }
    catch (error) {
        console.log(error)
    }

}

function dlSchemaChangePDP() {
    try {
        var customerId = __get_perpetual_session("customer_id");
        customerId = customerId ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var dealerID = jsHelper.isDef(selectedDeliverySeller.SellerId) ? selectedDeliverySeller.SellerId : '';
        var product_offer = $(".available-offers-new-list-text").length > 0 ? $(".available-offers-new-list-text").text() : '';
        var obj = {
            eventLabel: String(emiStoreApiData.get("scheme_id")),
            CustomerID: customerId,
            dealer_Id: dealerID,
            page_type: pageType,
            model_id: productData.id,
            offer: product_offer,
            Price: parseInt(productData.mrp),
        };
        dataLayerEvents.schemeSelectionPDP(obj);
    } catch (error) {
        console.log(error);
    }
}

function popUpSchemeInfoDataLayer(schemeId) {
    try {
        var radioId = schemeId;
        if ((schemeId == "") && (schemeId == undefined)) {
            radioId = $('input[type=radio][name=emischeme]:checked').attr('data-id');
        }
        var productName = $(".info-prod-head").eq(0).text();
        var customerId = "NA";
        var model_id = productData.id;
        var dealer_id = "NA";
        var productPrice = "NA";
        var firstSpecialOffer = "NA"
        if (productData.status) {
            dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
            dealer_id = parseInt(dealer_id);
            productPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
            firstSpecialOffer = $(".available-offers-new-list-text").text();
        }
        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                if (__is_loginUSer()) {
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                console.log(err)
            }
        } else {
            if (__is_loginUSer()) {
                var cardLimit = $(".cardLimit-txt").text();
                availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
            }
        }
        var data;
        data = {
            'event': 'TwoWheelerOrder_Payment_Summary',
            'eventCategory': 'Change EMI Scheme',
            'eventAction': radioId,
            'eventLabel': productName,
            'dealer_id': dealer_id,
            'model_id': model_id,
            'Offer': firstSpecialOffer,
            'Price': productPrice,
        }
        dataLayerEvents.TwoWheeler_Order_Payment_Summary(data);

    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }
}

/*********************** 2W Price breakup Datalayer Starts ********************/
function dlPricebreakup2W() {
    try {
        var productName = $(".info-prod-head").text();
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var modelId = productData.id;
        var dealerId = onChangeSellerID;
        var dealerName = selectedDeliverySeller.SellerName;
        var amount = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
        var obj = {
            product_name: productName,
            customer_id: customerId,
            model_id: modelId,
            dealer_id: dealerId,
            dealer_name: dealerName,
            product_amount: amount
        }
        dataLayerEvents.TwoWheeler_price_breakup_PDP(obj)
    } catch (error) {
        console.log(error)
    }
}
/*********************** 2W Price breakup Datalayer Ends ********************/

/***************** 2w ProductImpression DATALAYER Start *******************/
function ProductImpression2w(productData) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var productDetails = productData.product_Data;
        var dataobj = {
            name: productDetails.productName,       // Name or ID is required.
            id: productDetails.modleId,
            price: productData.product_price,
            list: 'Search',
            brand: productData.product_brand,
            category: 'Two wheelers',
            dimension69: productData.product_price,
            dimension65: productData.product_img
        }
        dataLayerEvents.productImpressionTwoWheeler(dataobj)
    } catch (error) {
        console.log(error)
    }
}
/***************** 2w ProductImpression DATALAYER End *******************/

function dlInstaBuyTandC(tncflag) {
    try {              
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var productName = $(".info-prod-head").eq(0).text();
        var dealerType = selectedDeliverySeller.Offer ? selectedDeliverySeller.Offer.ProductCode : "" ;
        var amount = $('.absolute-discount-calc-offer-price').text().split(',').join('');
        amount = parseInt(amount);
        var dataobj = {  
            tncflag: tncflag,          
            CustomerID: customerId,
            model_id: productData.id,
            productname: productName,
            Dealer_ID: onChangeSellerID,
            Dealer_Type: dealerType,
            Amount: amount,
        }    
        dataLayerEvents.insta_buy(dataobj)
    } catch (error) {
        console.log(error)
    }
}

function dlEmiSchemeChange() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var dealerid = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
        dealerid = dealerid ? parseInt(dealerid) : "";
        var modelid = productData.id;
        modelid = modelid ? parseInt(modelid) : "";
        var productName = $(".info-prod-head").eq(0).text();
        var price = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
        price = price ? parseInt(price) : "";
        var eventlabel = ""
        eventlabel = selectedSchemeDataOnPdp.schemeId ? selectedSchemeDataOnPdp.schemeId : "";
        var dataobj = {
            customer_id: customerId,
            product_name: productName,
            dealer_id: dealerid,
            model_id: modelid,
            eventLabel: eventlabel,
            Price: price,
        }
        dataLayerEvents.TwoWheeler_Scheme_Selection_instabuy(dataobj)
    } catch (error) {
        console.log(error)
    }
}

/***************** Two Wheeler Remove PromoCode DATALAYER Start *******************/
function dlTWOPDPEmiPromoChange() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";

        var productName = $(".info-prod-head").eq(0).text();

        var dataMapping = _getDataMapping();
        var availableToSpend = "null";

        var status = dataMapping.customerDetails.api.icorsFetchOffer.status
        if (status) {
            var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
            availableToSpend = resp.offer_details[0].amount;
            availableToSpend = parseInt(availableToSpend)
        }

        var promoCode = $('#insta-popup').data("promo-code") ? $('#insta-popup').data("promo-code") : ""
        var dataobj = {
            product_name: productName,
            promoCode: promoCode,
            customer_id: customerId,
            available_to_spend: availableToSpend,
        };

        dataLayerEvents.TwoWheeler_promocode_remove_click_cart_page_4(dataobj)
    } catch (error) {
        console.log(error)
    }
}


/***************** Two Wheeler Remove PromoCode DATALAYER End *******************/

/***************** Two Wheeler Show/Hide Details DATALAYER START *******************/
function dlViewHideDetails(elem) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }

        var productName = $(".info-prod-head").eq(0).text();

        var dataMapping = _getDataMapping();
        var availableToSpend = "null";

        var status = dataMapping.customerDetails.api.icorsFetchOffer.status
        if (status) {
            var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
            availableToSpend = resp.offer_details[0].amount;
            availableToSpend = parseInt(availableToSpend)
        }

       
        var dealerid = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
        dealerid = dealerid ? parseInt(dealerid) : "";
        var modelid = productData.id;
        modelid = modelid ? parseInt(modelid) : "";
        var productName = $(".info-prod-head").eq(0).text();
        var dealerType = selectedDeliverySeller ? selectedDeliverySeller.Offer.ProductCode : " ";
        var flagText = $(elem).text().toLowerCase();
        var flag = flagText.includes("view") ? true : false ;
        var dataobj = {
            customer_id: customerId,
            product_name: productName,
            dealer_id: dealerid,
            model_id: modelid,
            Dealer_Type: dealerType,
            flag : flag
        }
        dataLayerEvents.insta_buy(dataobj)
    } catch (error) {
        console.log(error)
    }
}

/***************** Two Wheeler Show/Hide Details DATALAYER End *******************/
/***************** 2W PDP scheme change start *******************/

function dlTWOPDPEmiSchemeChange() {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var dealerid = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
        dealerid = dealerid ? parseInt(dealerid) : "";
        var modelid = productData.id;
        modelid = modelid ? parseInt(modelid) : "";
        var productName = $(".info-prod-head").eq(0).text();
        var price = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
        price = price ? parseInt(price) : "";
        var dataMapping = _getDataMapping();
        var availableToSpend = "null";
        var status = dataMapping.customerDetails.api.icorsFetchOffer.status
        if (status) {
            var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
            availableToSpend = resp.offer_details[0].amount;
            availableToSpend = parseInt(availableToSpend)
        }
        var eventlabel = ""
        eventlabel = selectedSchemeDataOnPdp.schemeId ? selectedSchemeDataOnPdp.schemeId : "";

        var dataobj = {
            product_name: productName,
            customer_id: customerId,
            dealer_id: dealerid,
            model_id: modelid,
            Price: price,
            eventLabel: eventlabel,
            available_to_spend: availableToSpend,
        }
        dataLayerEvents.Scheme_Selection_PDP(dataobj)
    } catch (error) {
        console.log(error)
    }
}

/***************** 2W PDP scheme change end *******************/
/*productImpression*/
function dataImpressions() {
    try {
        if ($("a#dpsbanner").length) {
            var impressions = [];
            var chunks = [];
            var position = 1;
            var customerId = "NA";
            var pageTitle = $(document).find("title").text();
            if (localStorage.hasOwnProperty('cardStatus')) {
                try {
                    var jsonData = localStorage;
                    availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                    if (__is_loginUSer()) {
                        // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                        // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                        customerId = __get_perpetual_session("customer_id");
                        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                    }
                    custmerName = localStorage.emiStoreName;

                } catch (err) {
                    if (__is_loginUSer()) {
                        var cardLimit = $(".cardLimit-txt").text();
                        availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                        // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                        // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                        customerId = __get_perpetual_session("customer_id");
                        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                    }
                    console.log(err)
                }
            } else {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
            }
            $("a#dpsbanner").each(function () {
                var promotionInfo = JSON.parse($(this).data('impressions').replace(/\'/g, '"'));
                var obj = {};
                obj.list = promotionInfo.title;
                obj.name = promotionInfo.name;
                obj.id = promotionInfo.id;
                obj.price = promotionInfo.offer_price;
                obj.brand = promotionInfo.name.split(" ")[0];
                obj.category = "NA";
                obj.variant = "NA";
                obj.position = promotionInfo.position;
                obj.emi = promotionInfo.emi;
                obj.sku = promotionInfo.sku;
                obj.discount = promotionInfo.discount;
                obj.downpayment = promotionInfo.offer_lable;
                obj.mrp = promotionInfo.mrp;
                obj.insurance = "NA";
                obj.imageurl = promotionInfo.image;
                obj.exchange = "NA";
                obj.manufacturer = "NA";
                obj.actualdiscount = "NA";
                obj.size = "NA";
                obj.color = "NA";
                obj.searchterm = "NA";
                impressions.push(obj);
            });
            while (impressions.length > 0) {
                chunks = impressions.splice(0, 10);
                var data = ({
                    'event': 'productImpression',
                    'ecommerce': {
                        'currencyCode': 'INR',
                        impressions: chunks
                    },
                    'customer_id': customerId,
                });
                dataLayerEvents.productImpression(data);
            }

        }
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }
}

/*Product Details*/

function ProductDataImpressions() {
    try {

        if ($("meta[name=pageType]").attr("content") === 'pdp') {
            pageType = "Product Detail Page";
            pageTitle = "PDP";
        }

        var cust_lat_long = "";
        var preferredDealerFlag = "";
        var locationlat = "";
        var locationlong = "";
        var insurancevalue = '';
        var isNetflixSelectedOrNot = '';
        var customerId = parseInt(0);
        var custmerName = "N/A";
        var availableToSpend = "null";
        var productName = $(".info-prod-head").eq(0).text();
        var entityId = parseInt($("meta[name=entityID]").attr("content"));
        var offerPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
        var brandName = $(".info-prod-head").text().split(" ")[0];
        var colorVariant = $(".color-name").text();
        var skuName = $("meta[name=productSku]").attr("content");
        var discountPercentage = parseInt($(".absolute-moneysaved").text().split(" ")[0]);
        if (discountPercentage < 0) {
            discountPercentage = 0;
        }
        var emiAmount = parseInt($(".absolute-emicost").text().split(",").join(''));
        var model_id = productData.id;
        var sellerName = "N/A";
        var dealer_id = "N/A"
        if (productData.status) {
            sellerName = $(".delivery-seller-name").text();
            dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
            dealer_id = parseInt(dealer_id);
        }

        var downPaymentAmount = parseInt($(".absolute-downpaymentvalue").text().split(',').join(''));
        var productMrp = parseInt($(".absolute-discount-calc-offer-mrpprice").text().split(',').join(''));
        var firstSpecialOffer = $(".available-offers-new-list-text").text();
        var baseimageurl = $(".pc-single-img").attr("src");
        var productCategory = $("meta[name=category]").attr("content");
        var isNetflix = $(".select-netflix-offer").length == 1 ? ($(".select-netflix-offer .select-neflix-offer-icon").hasClass("selected") ? "Yes" : "No") : "No";
        var insuranceFlag = emiStoreApiData.get("sellerhasInsurance");
        if ($(".select-fonesafepolicy-icon .selected") && (insuranceFlag == true)) {

            insurancevalue = "selected";
        } else {

            insurancevalue = "unselected";
        }
        if (($(".select-neflix-offer-icon").hasClass("selected"))) {
            isNetflixSelectedOrNot = "netflix_selected";
            console.log(isNetflixSelectedOrNot);
        } else {
            isNetflixSelectedOrNot = "netflix_nonselected";
            console.log(isNetflixSelectedOrNot);
        }

        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                if ($("meta[name=pageType]").attr("content") === '2wpdp') {
                    var dataMapping = _getDataMapping();
                    var status = dataMapping.customerDetails.api.icorsFetchOffer.status
                    if (status) {
                        var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
                        availableToSpend = resp.offer_details[0].amount;
                        availableToSpend = parseInt(availableToSpend)
                    }
                } else {
                    availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                }
                if (__is_loginUSer()) {
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    // customerId = __get_perpetual_session("customer_id");
                    // customerId = parseInt(customerId);
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    if ($("meta[name=pageType]").attr("content") === '2wpdp') {
                        var dataMapping = _getDataMapping();
                        var status = dataMapping.customerDetails.api.icorsFetchOffer.status
                        if (status) {
                            var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
                            availableToSpend = resp.offer_details[0].amount;
                            availableToSpend = parseInt(availableToSpend)
                        }
                    } else {
                        availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    }
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    // customerId = __get_perpetual_session("customer_id");
                    // customerId = parseInt(customerId);
                    customerId = __get_perpetual_session("customer_id");
                    if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
                }
                console.log(err)
            }
        } else {
            if (__is_loginUSer()) {
                var cardLimit = $(".cardLimit-txt").text();
                if ($("meta[name=pageType]").attr("content") === '2wpdp') {
                    var dataMapping = _getDataMapping();
                    var status = dataMapping.customerDetails.api.icorsFetchOffer.status
                    if (status) {
                        var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
                        availableToSpend = resp.offer_details[0].amount;
                        availableToSpend = parseInt(availableToSpend)
                    }
                } else {
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                }
                // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }

            }
        }

        var productAvailable = emiStoreApiData.get("productAvailable");
        var deliverlyType = "";
        var isPreferredTag = "No"

        if (productData.status) {
            deliverlyType = $("#homeDeliverySelector").hasClass("selected") ? "1" : "2";
            deliverlyType = parseInt(deliverlyType);
            isPreferredTag = $(".PreferredsellerTag").hasClass("hide-elem") ? "No" : "Yes";
        }

        var buywithtext = 'No';

        if (productData.status) {
            buywithtext = 'No';
            if ($(".BWE-exchangeoffer-text .pdp-left-sepr").text() === 'Buy with exchange') {
                buywithtext = 'Yes';
            }
        }
        productData.sellers && productData.sellers.forEach(function (eachSeller) {
            if (onChangeSellerID == eachSeller.SellerId) {
                porductCode = eachSeller.Offer.ProductCode;
            }

        })
        var processingFees = "";
        if (productData.status) {
            productData.schemes.forEach(function (e) {
                for (var i in e) {
                    if (productData.lowest_offer_price[0].scheme == e[i].SchemeId) {
                        processingFees = e[i].ProcessingFee
                    }
                }
            });
        }
        processingFees = processingFees ? processingFees : 0;

        var readPincode = decodeURI(readCookie("selected_city_pincode")).split("|")[0];
        var preferredDealer = __get_perpetual_session("preferred_dealer");
        var sellerScore = globalDataLayerObj.SellerScore;
        var distance = globalDataLayerObj.Distance;
        if (preferredDealer) {
            preferredDealerFlag = "Y"
        } else {
            preferredDealerFlag = "N"
        }
        var childDealer = "";
        // if(__is_loginUSer()){
        if (locationlatitude != undefined && locationlongitude != undefined) {
            locationlat = locationlatitude;
            locationlong = locationlongitude;
            cust_lat_long = locationlat + "/" + locationlong;
        }
        //}
        var dealer_lat_long = "";
        var dimension186 = readPincode + "|" + preferredDealer + "|" + sellerScore + "|" + distance + "|" +
            preferredDealerFlag + "|" + childDealer + "|" + cust_lat_long + "|" + dealer_lat_long + "|";
        var customerType = "";
        if (__is_loginUSer()) {
            customerType = __get_perpetual_session("is_bfl_customer") == 1 ? "ETB" : "NTB";
        } else {
            customerType = "NONLOGGEDIN";
        }
        var data = {

            'name': productName,
            'id': entityId,
            'price': offerPrice,
            'brand': brandName,
            'category': productCategory,
            'variant': colorVariant,
            'position': 0,
            'dimension2': customerId,
            'dimension3': emiAmount,
            'dimension4': pageType,
            'dimension7': productName,
            'dimension9': productCategory,
            'dimension10': skuName,
            'dimension11': downPaymentAmount,
            'dimension12': productMrp,
            'dimension13': discountPercentage,
            'dimension14': availableToSpend,
            'dimension60': offerPrice,
            'dimension62': processingFees,
            'dimension64': insurancevalue,
            'dimension65': baseimageurl,
            'dimension66': buywithtext,
            'dimension67': brandName,
            'dimension68': sellerName,
            'dimension69': firstSpecialOffer,
            // 'dimension70': isNetflix,
            'dimension71': colorVariant,
            'dimension83': deliverlyType,
            'dimension84': isPreferredTag,
            //'dimension96': "N/A",
            'dimension97': custmerName,
            'dimension104': productAvailable,
            'dimension109': productCategory,
            'dimension110': model_id,
            'dimension111': dealer_id,
            "dimension150": porductCode, ///Productcode
            //'dimension117': isNetflixSelectedOrNot,
            "dimension172": __get_perpetual_session("m_customer_id"),
            "pageCategory": globalDataLayerObj.pageName,
            "customer_type":customerType,
            "dimension186": dimension186
        }
        dataLayerEvents.productdetail(data);
    } catch (err) {
        console.error('%c ' + err, 'color:red');
    }
}

/** COMMON DL START */

/*********************** My_Profile Datalayer Start ********************/

/* function dlProfileSection(val) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var eventAction = '';
        if (val) {
            eventAction = val;
        } else {
            eventAction = __is_loginUSer() ? 'profile section' : 'login';
        }
        var data = {
            'event': 'my_profile_section',
            'eventCategory': 'My profile section',
            'eventAction': eventAction,
            'CustomerID': customerId,        //bfl custid 0th position on perpetual data it has to be decrypted
            'pageType': globalDataLayerObj.pageName
        }

        dataLayerEvents.My_Profile_Section(data);
    } catch (error) {
        console.error(error);
    }

}; */

function dlProfileClick() {
    try {
        var data = {
            pageType: pageType
        }
        dataLayerEvents.Profile_menu_click(data);
    } catch (error) {
        console.error(error);
    }
}
/*********************** My_Profile Datalayer End ********************/

/*********************** Bell Notification DataLayer on all Start ********************/
function dlBellNotificationAll(eventAction, key, eventLabel) {
    try {
        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var pageType = globalDataLayerObj.pageType;
        var magentoId = __get_perpetual_session("m_customer_id");
        var obj = {
            'event': 'bell_notification',
            'eventCategory': 'Bell Notification',
            'eventAction': eventAction,
            'CustomerID': customerId,
            'pageType': pageType,
            'magento_id': magentoId
        };
        switch (key) {
            case "bell-icon-click":
                break;

            case "bell-notification-all":
                break;
            case "bell-notification-sub-CTA":
                obj.eventLabel = eventLabel;
                break;
            default:
                break;
        }
        dataLayerEvents.bell_notification(obj);
    } catch (error) {
        console.log(error)
    }
}
/*********************** Bell Notification DataLayer on all End ********************/

/******************* Login Events DataLayer Starts *******************/

function logInEventsClick(respMsg) {
    try {
        var eventLabel = "";
        var is_bflcustomers = emiStoreApiData.get("bflCustomer");
        var doubleClickEvent = emiStoreApiData.get("MultipalDoB");
        switch (respMsg) {
            case "successful_signup":
                eventLabel = "success_register";
                break;
            case "resend_otp_click":
                eventLabel = "resend_otp";
                break;
            case "mobile_get_otp_click":
                eventLabel = "success";
                break;
            case "otp_screen_null":
                if (is_bflcustomers == 1) {
                    eventLabel = "success_otp";
                }
                if (is_bflcustomers == 0) {
                    eventLabel = "success_otp_ntb";
                }
                if (emiStoreApiData.get('otpstatus')) {
                    eventLabel = "success_multiple_confirm";
                }
                break;
            case "Customer not exist in BOT API. OTP Triggered by Customer Portal":
                eventLabel = "success_ntb";
                /* if (doubleClickEvent == "MultipalDoBClick") {
                     eventLabel = "fail";
                 }
                 else {
                    eventLabel = "success_ntb";
                  }
                 if ((is_bflcustomers == "") || (is_bflcustomers == 0)) {
                     eventLabel = "success_ntb";
                 }
                  else if (doubleClickEvent == "MultipalDoBClick") {
                     eventLabel = "fail";
                 } else {
                      eventLabel = "fail";
                  } */
                break;
            case "User does not exist!!!":
                if (doubleClickEvent == "MultipalDoBClick") {
                    eventLabel = "fail";
                } else {
                    eventLabel = "fail";
                }
                break;
            case "Multiple DOB exists!!!":
                // if (doubleClickEvent == "MultipalDoBClick") {
                //     eventLabel = "fail";
                // } else {
                //     eventLabel = "fail";
                // }
                eventLabel = "success_otp_multiple";
                break;
            case "No record found. Please Register!!!":
                // if (doubleClickEvent == "MultipalDoBClick") {
                //     eventLabel = "fail";
                // } else {
                //     eventLabel = "fail";
                // }
                eventLabel = "success_otp_ntb_register";
                if (emiStoreApiData.get('otpstatus')) {
                    eventLabel = "fail_multiple_confirm";
                }
                break;
            case "Please Enter registered DOB":
                if (doubleClickEvent == "MultipalDoBClick") {
                    eventLabel = "fail";
                } else {
                    eventLabel = "fail";
                }
                break;
            /* case "OTP is invalid":
                if ((is_bflcustomers == "") || (is_bflcustomers == 0)) {
                    eventLabel = "fail_otp_ntb";
                } else {
                    eventLabel = "fail_otp";
                }
                break; */
            case "Invalid OTP":
                if ((is_bflcustomers == "") || (is_bflcustomers == 0)) {
                    eventLabel = "fail_otp_ntb";
                } else {
                    eventLabel = "fail_otp";
                }
                break;
            case "Successfully LoggedIn":
                if (is_bflcustomers == "" || is_bflcustomers == 0) {
                    eventLabel = doubleClickEvent == "MultipalDoBClick" ? "success" : "success_otp_ntb";
                } else {
                    eventLabel = doubleClickEvent == "MultipalDoBClick" ? "success" : "success_otp";
                }
                if (is_bflcustomers == 0) {
                    eventLabel = "fail";
                }
                break;
            case "New account created successfully":
                eventLabel = "success_otp_ntb_register";
                break;
            case "OTP Successfully Triggered":
                eventLabel = "success_register";
                break;
            case "Please enter correct otp":
                // if ((is_bflcustomers == "") || (is_bflcustomers == 0)) {
                //     eventLabel = "fail_otp_ntb_register";
                // } else {
                //     eventLabel = "fail_otp";
                // }
                eventLabel = "fail_otp";
                break;
            case "OTP Verification Failed":
                if ((is_bflcustomers == "") || (is_bflcustomers == 0)) {
                    eventLabel = "fail_otp_ntb_register";
                } else {
                    eventLabel = "fail_otp";
                }
                break;
            case "Successfully Resend OTP!!!":
                eventLabel = "resend_otp";
                break;
            case "Sign Up":
                eventLabel = "Sign Up";
                break;
            case "Get_EMI_Card":
                eventLabel = "Get_EMI_Card";
                break;
            // case "Submit-otp":
            //     if(!xhr.responseJSON){
            //         xhr.responseJSON = JSON.parse(xhr.responseText);
            //     }
            //         if(xhr.responseJSON){
            //         eventLabel = "Submit_fail";
            //         }else{
            //             eventLabel = "Submit_success";
            //         }
            // break;
            case "Cancel-otp":
                eventLabel = "Cancel-otp";
                break;
            case "multiple_dob_success":
                eventLabel = "success_multiple_confirm";
                break;
            case "multiple_dob_fail":
                eventLabel = "fail_multiple_confirm";
                break;
        }
        var whatsAppConsent = $("#enbleNotificationCheck").prop("checked") ? "yes" : "no";
        emiStoreApiData.set("MultipalDoB", null);
        emiStoreApiData.set("bflCustomer", null);
        var pageType = "";
        var pageTitle = "";
        var urlParam = document.URL.split("/");
        var urlLength = urlParam.length;
        if ($("meta[name=pageType]").attr("content") === 'pdp') {
            pageType = "Product Detail Page";
            if ($(document).find("title").text()) {
                pageTitle = $(document).find("title").text();
            } else {
                pageTitle = "PDP";
            }
        } else if ($("meta[name=pageType]").attr("content") === 'plp') {
            pageType = "Product List Page";
            if ($(document).find("title").text()) {
                pageTitle = $(document).find("title").text();
            } else {
                var pageTitle = "PLP";
            }
        } else if ($("meta[name=pageType]").attr("content") == "homepage") {
            pageType = "Home Page";
            pageTitle = "Home Page";
        } else {
            pageType = $("meta[name=pageType]").attr("content");
            pageTitle = "CLP";
        }
        data = {
            "event": "login_click_all_pages_14",
            "pageType": pageType,
            "pageTitle": pageType,
            "eventLabel": eventLabel,
            "magento_id": __get_perpetual_session("m_customer_id"),
            "prospect_id": "",
            "whatapp_consent": whatsAppConsent
        };
        dataLayerEvents.login_click_all_pages_14(data);
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }
}

/******************* Login Events DataLayer END *******************/
/******************* City Selection DATALAYER Start *******************/

function citySelection(data) {
    try {
        var customerId = 0;
        var availableToSpend = 0;
        var selected_city = data;
        var pageTitle = $(document).find("title").text();
        var pageType = $("meta[name=pageType]").attr("content");
        if (localStorage.hasOwnProperty('cardStatus')) {
            var jsonData = localStorage;
            availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
            if (__is_loginUSer()) {
                // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                customerId = __get_perpetual_session("customer_id");
                if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
            }
            custmerName = localStorage.emiStoreName;
        }

        var data = {
            'event': 'city_selection_click_all_pages_11',
            'pageType': pageType,
            'pageTitle': pageTitle,
            'selected_city': selected_city,
            'customer_id': customerId,
            'available_to_spend': globalDataLayerObj.availableToSpend
        }
        dataLayerEvents.city_selection_click_all_pages_11(data);
    } catch (error) {
        console.error('%c ' + error, 'color:red');
    }

}

/******************* City Selection DATALAYER End *******************/
/*********************** NudgeFrameWork DataLayer Start ********************/
function callLoginNudge(data) {
    try {
        var dataobj = {}
        switch (data) {
            case "impression":
                dataobj.eventAction = "impression";
                break;
            case "login":
                dataobj.eventAction = "login";
                break;
            case "cancel":
                dataobj.eventAction = "cancel";
                break;

            default:
                break;
        }
        var customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        dataobj.customer_id = customerId;
        dataobj.pageType = globalDataLayerObj.pageType

        dataLayerEvents.login_nudge(dataobj)
    } catch (error) {
        console.error(error)
    }
}

function callLoginStrip(data) {
    try {
        var dataobj = {}
        switch (data) {
            case "impression":
                dataobj.eventAction = "impression";
                break;
            case "login":
                dataobj.eventAction = "login";
                break;
            default:
                break;
        }
        var customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        dataobj.customer_id = customerId;
        dataobj.pageType = globalDataLayerObj.pageType

        dataLayerEvents.login_strip(dataobj);
    } catch (error) {
        console.error(error)
    }
}
/*********************** NudgeFrameWork DataLayer End ********************/

/******************* PreBookPreOrder Datalayer Start ***********************/
function dlPreBookPreOrder(eventacta, modelID, errorMsg) {
    try {
        var dealerType = ""
        var customerMagentoId = __get_perpetual_session('m_customer_id') ? __get_perpetual_session('m_customer_id') : '';
        customerMagentoId = customerMagentoId ? parseInt(customerMagentoId) : '';
        var customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var modelId = modelID ? modelID : '';
        modelId = modelId ? parseInt(modelId) : '';
        var productName = skuName ? skuName : '';
        var dealerName = $(".delivery-seller-name").text() ? $(".delivery-seller-name").text().replace(/\s /g, '') : '';
        if (!productData) {
            dealerType = ""
        } else {
            var productDataCheck = selectedDeliverySeller ? selectedDeliverySeller.Offer : "";
            if (productDataCheck) {
                dealerType = productDataCheck.ProductCode ? productDataCheck.ProductCode : "";
            }
        }
        var pincode = $('.prebook-pincode').val() ? $('.prebook-pincode').val() : '';
        pincode = pincode ? parseInt(pincode) : "";
        /*         if (dealerType == "1") {
                    dealerType = "Home Delivery";
                } else if (dealerType == "2") {
                    dealerType = "Pick up from Store";
                } else if (dealerType == "3") {
                    dealerType = "Home Delivery, Pick up from Store";
                } */
        var obj = {
            'event': 'Prebooking',
            'eventCategory': 'Prebooking',
            'eventAction': 'Pre-Order Now CTA Click',
            'eventLabel': 'Not Pre-Booked',
            'customer id': customerId,
            'model_id': modelId,
            'magento_id': customerMagentoId,
            'Product Name': productName,
        };
        switch (eventacta) {
            case "Pre-Book-Now": //When user clicks on Pre-Book now CTA after entering Pin Code
                var productname = $(".pincode-btn-event").attr("data-model-name")
                obj.eventLabel = errorMsg ? errorMsg : ""
                obj.PinCode = pincode
                obj["Product Name"] = productname
                break;
            case "ntb-popup-cta": //When user clicks on Get an EMI card now
                var obj = {
                    'event': 'Prebooking',
                    'eventCategory': 'Prebooking',
                    'eventAction': 'Get an EMI card now! CTA click',
                    'eventLabel': 'Get an EMI card now!',
                    'prospect_id': '',
                    'pageType': "Prebook",
                    'magento_id': customerMagentoId
                }
                break;
            case "Pre-Order-Now": //When user clicks on Pre-Order Now CTA before the product is Booked
                var productname = $(".info-prod-head").text()
                obj["Product Name"] = productname
                obj["Dealer Name"] = dealerName
                obj.Dealer_Type = dealerType
                break;
            case "Pre-Booked": //When user clicks on Pre-Order Now CTA which is shown on the side after product is pre booked
                obj.eventLabel = 'Pre-Booked'
                obj["Dealer Name"] = dealerName
                obj.Dealer_Type = dealerType
                break;
            case "Buy-now-cta":  //When user clicks on Buy Now button
                obj.eventLabel = 'CTA clicked'
                obj.eventAction = 'Buy Now CTA Click'
                obj["Dealer Name"] = dealerName
                obj.Dealer_Type = dealerType
                break;
        }
        dataLayerEvents.Prebooking(obj);
    } catch (err) {
        console.error(err);
    }
}
/******************* PreBookPreOrder Datalayer End ***********************/

/******************* Footer Click Datalayer Start *******************/
function dlFooterLinksClick(linkText) {
    var customerId = "";
    customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
    customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
    var pageType = globalDataLayerObj.pageType;
    try {
        var dataobj = {
            page_Type: pageType,
            customer_id: customerId,
            link_Text: linkText
        }
        dataLayerEvents.TwoWheelers_bottom_links(dataobj)
    } catch (error) {
        console.error(error)
    }
}
/******************* Footer Click Datalayer End *******************/

/*********************** For you page Product Recommendation Section Datalayer Start ********************/

function dlProductRecommend(productName, pageTitle, productRecommendModelId) {
    try {

        var customerId = "";
        customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var a = "";
        if (location.href.endsWith("foryou.html")) {
            a = "foryou";
        }
        if (location.href.endsWith("foryougeneric.html")) {
            a = "foryougeneric";
        }
        if (location.href.endsWith("foryounew.html")) {
            a = "foryounew";
        }
        var obj = {
            'CustomerId': customerId,
            'ModelId': productRecommendModelId,
            'PageTitle': pageTitle,
            'SectionName': a,
            'ProductName': productName,
        }
        dataLayerEvents.recommendations_for_you(obj)
    }
    catch (error) {
        console.log(error)
    }
}
/*********************** For you page Product Recommendation Section Datalayer End ********************/

/*********************** FOOTER MOBILE Datalayer Starts ********************/
function dlFooterMobile(evtAction) {
    try {
        var customerId = __get_perpetual_session("customer_id");
        customerId = customerId ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var magentoId = __get_perpetual_session("m_customer_id");
        var obj = {
            event_action: evtAction,
            page_name: location.href,
            page_title: document.referrer,
            customer_id: customerId,
            magento_id: magentoId
        }
        dataLayerEvents.footer_click(obj)
    } catch (error) {
        console.log(error)
    }
}
/*********************** FOOTER MOBILE Datalayer END ********************/

/******************* add_to_cart_click_ProdcutDetailsPage_28 DataLayer Start *******************/

function add_to_cart_click_ProdcutDetailsPage_28() {
    try {
        var productName = $(".info-prod-head").eq(0).text();
        var insuranceSelection = $(".fonesafeprotec").eq(fonesafecheck).find(".select-fonesafepolicy-icon").hasClass("selected");
        var dealer_id = "N/A";
        var sellerName = "N/A";
        var productPrice = "N/A";
        var Model_Id = "N/A";
        var DealerType = "N/A";
        if (productData.status) {
            sellerName = $(".delivery-seller-name").text();
            dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
            dealer_id = parseInt(dealer_id);
            productPrice = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
            Model_Id = productData.id;
            DealerType = selectedDeliverySeller.Offer.ProductCode;
        }
        var customerId = __get_perpetual_session("customer_id") ? atob(__get_perpetual_session("customer_id")).split("_")[0] : "";

        data = {
            'event': 'add_to_cart_click_ProdcutDetailsPage_28',
            'pageType': pageType,
            'product_name': productName,
            'customer_id': customerId,
            'available_to_spend': globalDataLayerObj.availableToSpend,
            'selection': insuranceSelection,
            'Dealer_Name': sellerName,
            'Model_Id': Model_Id,
            'Dealer_ID': dealer_id,
            'Amount': productPrice,
            'Dealer_Type': DealerType,
            'magentoId': __get_perpetual_session("m_customer_id")
        };

        dataLayerEvents.add_to_cart_click_ProdcutDetailsPage_28(data);
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }

}

/******************* add_to_cart_click_ProdcutDetailsPage_28 DataLayer END *******************/

/******************* NDD governance tracking Datalayer Start *******************/
function dlCallNddGovernance() {
    try {
        var dealerName = $(".delivery-seller-name").text();
        onLoadFirstDealer.push(dealerName);
        var modelId = productData.id;
        var dealerType = selectedDeliverySeller.Offer.ProductCode;
        var amount = parseInt($(".absolute-discount-calc-offer-price").text().split(',').join(''));
        var dealerId = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
        var loadingDealer = selectedDeliverySeller.SellerName;
        dealerId = parseInt(dealerId);

        var locationlat = '';
        var locationlong = '';
        var cust_lat_long = '';
        var readPincode = decodeURI(readCookie("selected_city_pincode")).split("|")[0];
        var preferredDealer = __get_perpetual_session("preferred_dealer");
        var sellerScore = selectedDeliverySeller.SellerScore;
        var distance = selectedDeliverySeller.Distance;
        var childDealer = "";
        var dealer_lat_long = "";
        if (preferredDealer) {
            preferredDealerFlag = "Y"
        } else {
            preferredDealerFlag = "N"
        }
        if (locationlatitude != undefined && locationlongitude != undefined) {
            locationlat = locationlatitude;
            locationlong = locationlongitude;
            cust_lat_long = locationlat + "/" + locationlong;
        }
        var nddHit = readPincode + "|" + preferredDealer + "|" + sellerScore + "|" + distance + "|" +
            preferredDealerFlag + "|" + childDealer + "|" + cust_lat_long + "|" + dealer_lat_long + "|";


        var dataobj = {
            dealerName: onLoadFirstDealer[0],
            loadingDealer: loadingDealer,
            dealerId: dealerId,
            modelId: modelId,
            dealerType: dealerType,
            amount: amount,
            nddHit: nddHit
        }
        dataLayerEvents.Ndd_governanceTracking(dataobj);
    } catch (error) {
        console.error("DataLayer Error : ", error);
    }
}
/******************* NDD governance tracking Datalayer End *******************/

/*********************** Auto-Suggest Datalayer Start ********************/
function dlAutoSuggest(data) {
    try {
        var customerId = __get_perpetual_session("customer_id");
        if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        var cityName = $("#selectedCity").text();
        var suggestLabel = data.autoSuggestLi;
        var suggestAction = data.autoSuggestMain;
        var dataobj = {
            action: suggestAction,
            label: suggestLabel,
            customerId: customerId,
            userCity: cityName,
            pageType: globalDataLayerObj.pageCategory

        }
        dataLayerEvents.Suggestive_Search(dataobj)
    } catch (error) {
        console.error("DataLayer Error : ", error);
    }
}
/*********************** Auto-Suggest Datalayer  End ********************/
function plpProductBreadCrumbClick(e) {
    try {
        if ($("meta[name=pageType]").attr("content") === 'plp') {
            pageType = "Product List Page";
        }
        if ($("meta[name=pageType]").attr("content") === 'pdp') {
            pageType = "Product Detail Page";
        }
        var customerId = 0;
        var availableToSpend = 0;
        if (localStorage.hasOwnProperty('cardStatus')) {
            try {
                var jsonData = localStorage;
                availableToSpend = parseInt(localStorage.emiStoreCreditLimit.split("Rs.").join(''));
                // if (__is_loginUSer()) {
                //     // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                //     // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                //     customerId = __get_perpetual_session("customer_id");
                //     customerId = parseInt(customerId);
                // }
                custmerName = localStorage.emiStoreName;

            } catch (err) {
                if (__is_loginUSer()) {
                    var cardLimit = $(".cardLimit-txt").text();
                    availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
                    // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
                    // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
                    // customerId = __get_perpetual_session("customer_id");
                    // customerId = parseInt(customerId);
                }
                console.log(err)
            }
        }
        // else {
        //     if (__is_loginUSer()) {
        //         var cardLimit = $(".cardLimit-txt").text();
        //         availableToSpend = parseInt(cardLimit.split("Rs.").join(''));
        //         // var stringFormat = decodeURIComponent(readCookie("perpetual_session")).split("|");
        //         // customerId = reverseStr(atob(stringFormat[0])).split('_')[1];
        //         customerId = __get_perpetual_session("customer_id");
        //         customerId = parseInt(customerId);
        //     }
        // }
        if (__is_loginUSer()) {
            customerId = __get_perpetual_session("customer_id");
            if(customerId != "undefined"){
                                customerId = parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]);
                            }
        }
        var clickText = this.text;
        // pageTitle = document.title;
        var data = {
            'event': 'bread_crumb_click_all_pages_13',
            'pageType': pageType,
            'pageTitle': pageTitle,
            'clickText': clickText,
            'customer_id': customerId,
            'available_to_spend': availableToSpend
        }
        dataLayerEvents.bread_crumb_click_all_pages_13(data);
    } catch (err) {
        console.error('%c ' + err, 'color:red')
    }
}


/*********************** Cart Button Datalayer Starts ********************/
function dlCartButton(val){
    try{
        var customerId = "";
        customerId =  __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ?parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var obj ={
                'Customerid':customerId,
                'Number_of_products':val,
                'Pagetype':globalDataLayerObj.pageType
        }
        dataLayerEvents.cart_button_click(obj)
    }
    catch(error){
        console.log(error)
    }
}
/*********************** Cart Button Datalayer Ends********************/

/****************** View All Static Carousel Home page DATALAYER START ***************/
function dlLevelOneHamburgerMenu(elem) {
    try {
        var levelOneMenuName = $(elem).text();
        var levelZeroMenu = $(elem).parents(".bfs-nav-list-parent").find(".subsitute-event").text().trim();
        var customerId = "";
        customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var page_Type = $("meta[name=pageType]").attr("content");
        var dataObj = {
            "eventAction": levelZeroMenu ,
            "eventLabel": levelOneMenuName,
            "pageType": page_Type,
            "pageTitle": window.location.href,
            "customer Id": customerId,
            "available_to_spend": globalDataLayerObj.availableToSpend
        }
        dataLayerEvents.Header_navigation_click_L1(dataObj);
    } catch (error) {
        console.log(error);
    }
}
/****************** View All Static Carousel Home page DATALAYER END ***************/

	/******************* Bajaj Mall logo clicked DATALAYER START *******************/
	function dlBMLogoclick() {
		try {
			var customerId = __get_perpetual_session("customer_id");
			customerId = customerId ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
			var pageType = globalDataLayerObj.pageType;
			var availableToSpend = "null";
            var dataMapping = _getDataMapping();
			var status = dataMapping.customerDetails.api.icorsFetchOffer ? dataMapping.customerDetails.api.icorsFetchOffer.status : false
			if (status) {
				var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
				availableToSpend = resp.offer_details[0].amount;
				availableToSpend = parseInt(availableToSpend)
			}
	
			var url = window.location.href;
			var dataObj = {
				customer_id: customerId,
				Page_title: url,
                Page_type : "2wpdp",
				available_to_spend: availableToSpend
			}
			dataLayerEvents.logo_click_all_pages_1(dataObj)
		} catch (error) {
			console.log(error)
		}
	}
    /******************* Bajaj Mall logo clicked DATALAYER START *******************/

	/******************* L0 Menu Item clicked DATALAYER START *******************/
	function dlNML0click(elem) {
		try {
			var customerId = __get_perpetual_session("customer_id");
			customerId = customerId ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
			var pageType = globalDataLayerObj.pageType;
			var event_label = $(elem).parents(".bfs-nav-list-parent").find(".subsitute-event").text().trim();
            // $(".bfs-nav-list-parent").each(function (i,each){
            //     if($(each).hasClass("active-opt")){
            //     	event_label = ($(this).find(".bfs-nav-list-parent-link").text().trim());
            //     }

            // })
	
			var url = window.location.href;
			var dataObj = {
				customer_id: customerId,
				page_title: url,
				eventLabel: event_label,
				Page_title: url,
                Page_type : "2wpdp",
				available_to_spend: globalDataLayerObj.availableToSpend
			}
			dataLayerEvents.Header_navigation_click_L0(dataObj)
		} catch (error) {
			console.log(error)
		}
	}
    /******************* L0 Menu Item clicked DATALAYER START *******************/


   /**Datalayer When user clicks on any of the L2 menu start*/

 function dlHeaderl2click(element) {                        
    try {
        var customerId = __get_perpetual_session("customer_id");
        customerId = customerId ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var pageType = globalDataLayerObj.pageType;
        var availableToSpend = "null";
        var dataMapping = _getDataMapping();
        var status = dataMapping.customerDetails.api.icorsFetchOffer ? dataMapping.customerDetails.api.icorsFetchOffer.status : false
        if(status){
            var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
            availableToSpend = resp.offer_details[0].amount;
            availableToSpend = parseInt(availableToSpend)
        }
        var url = window.location.href;
         var eventAction = "";
         if (window.matchMedia("(max-width: 766px)").matches) {
             eventAction = $(element).parents('.lns-submenu-wrap').siblings(".inner-subs-main-cl").find("span").text()
             eventAction = eventAction ? eventAction : $(element).parents(".inner-submenus-adpt-wrap").find(".back-arrow").siblings("span").text()
            } else {
             eventAction = $(element).parents('.inner-child').find('.inner-child-list').text().trim()
         }
        var dataObj = {
            event_action: eventAction,
            event_label: $(element).text().trim(),
            customer_id: customerId,
            Page_title: url,
            Page_type : "2wpdp",
            available_to_spend: availableToSpend
        }
        dataLayerEvents.Header_navigation_click(dataObj)
    } catch (error) {
        console.log(error)
    }
}

  /**Datalayer When user clicks on any of the L2 menu END*/
    /**Datalayer When user clicks on any of the floating tile authored for each L0 menu start*/

    function dlHeaderl0click(element) {                        
        try {
            var customerId = __get_perpetual_session("customer_id");
            customerId = customerId ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
            var pageType = globalDataLayerObj.pageType;
            var eventaction = $(element).parents(".bfs-nav-list-parent").find(".subsitute-event").text().trim();
            // $(".bfs-nav-list-parent").each(function (i,each){
            //     if($(each).hasClass("active-opt")){
            //     eventaction = ($(this).find(".bfs-nav-list-parent-link").text().trim());
            //     }
            // })
            var availableToSpend = "null";
            var dataMapping = _getDataMapping();
            var status = dataMapping.customerDetails.api.icorsFetchOffer ? dataMapping.customerDetails.api.icorsFetchOffer.status : false
            if(status){
                var resp = dataMapping.customerDetails.api.icorsFetchOffer.response
                availableToSpend = resp.offer_details[0].amount;
                availableToSpend = parseInt(availableToSpend)
            }
            var url = window.location.href;
            var dataObj = {
                event_action: eventaction,
                event_label: $(element).text().trim(),
                customer_id: customerId,
                Page_title: url,
                Page_type : "2wpdp",
                available_to_spend: availableToSpend
            }
            dataLayerEvents.Header_navigation_click_floatingTile(dataObj)
        } catch (error) {
            console.log(error)
        }
    }

    /** Datalayer When user clicks on any of the floating tile authored for each L0 menu End */

    /**Datalayer for 2W seller  change start*/

    function dl2wChangesDealer() {
        try {
            var productName = $(".info-prod-head").text();
            var deliveryOption = "";
            var customerId = "";
            var dealer_id = "N/A";
            var sellerName = "";
            if (productData.status) {
                sellerName = $(".delivery-seller-name").text();
                dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
                dealer_id = dealer_id ? parseInt(dealer_id) : '';
                deliveryOption = $(".pdp-delv-opt-btns-w").find(".selected").text().replace(/\s+/g, ' ');
            }
            customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
            customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
            var pageType = globalDataLayerObj.pageType;
            var modelId = productData.id;
            var obj = {
                'eventLabel': productName,
                "delivery_option":deliveryOption,
                "dealer_id": dealer_id,
                'model_id': modelId,
                'CustomerID': customerId
            }
            dataLayerEvents.View_Seller(obj)
        } catch (error) {
            console.log(error)
        }
    } 

      /**Datalayer for 2W seller  change End*/

      /****************** Download App DATALAYER START ***************/
function dlDownloadAppClicked() {
    try {
        var customerId = __get_perpetual_session("customer_id");
        customerId = customerId == "undefined" || customerId == "" ? "" : parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1])
        var magentoId = parseInt(__get_perpetual_session("m_customer_id")) ? parseInt(__get_perpetual_session("m_customer_id")) : "";
        var pageTitle = window.location.href;
        var obj = {
            magentoId: magentoId,
            customerId: customerId,
            pageTitle: pageTitle,
            eventAction: 'Download_App_Now_Click'
        };
        dataLayerEvents.Download_App_Now(obj);
    } catch (error) {
        console.log(error);

    }
}
/****************** Download App DATALAYER END ***************/

/****************** Download App Banner Impression DATALAYER START ***************/
function dlDownloadAppImpression() {
    try {
        var customerId = __get_perpetual_session("customer_id");
        customerId = customerId == "undefined" || customerId == "" ? "" : parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1])
        var magentoId = parseInt(__get_perpetual_session("m_customer_id")) ? parseInt(__get_perpetual_session("m_customer_id")) : "";
        var pageTitle = window.location.href;
        var obj = {
            magentoId: magentoId,
            customerId: customerId,
            pageTitle: pageTitle,
            eventAction: 'Download_App_Now_Impression'
        };
        dataLayerEvents.Download_App_Now(obj);
    } catch (error) {
        console.log(error);

    }
}
/****************** Download App Banner Impression DATALAYER END ***************/
      function searchBarClick(type){
        try {
            var customerId = ''
            customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
            customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
            var searchVal = $("#searchBox1").val();
            var dataObj = {
                clickType: type,
                'customer Id': customerId,
                searchTerm: searchVal
            }
            dataLayerEvents.Search_Click(dataObj);
        } catch (error) {
            console.error(error)
        }
    }

function Voice_Search_Datalayer(){
	try{
		var customerId = "";
		customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
		customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
		var customerMagentoId = __get_perpetual_session('m_customer_id') ? __get_perpetual_session('m_customer_id') : '';
            customerMagentoId = customerMagentoId ? parseInt(customerMagentoId) : '';
		data = {
			   'event': 'Voice_Search',
			   'eventCategory': 'Voice Search',
			   'eventAction': 'Voice Search click',
			   'customer_id': customerId,
			   'pageType':'Search Page',
			   'MagentoID': customerMagentoId,
			   'gtm.uniqueEventId': 226
		};
		dataLayerEvents.Voice_Search(data);
	}
	catch(err){
		console.error('%c ' + err, 'color:red')
	}
}
    /******************* Header Tool tip DL Start ************************/
function Header_LoanPodTooltip_DL(val) {
    try {
        var customerMagentoId = __get_perpetual_session('m_customer_id') ? __get_perpetual_session('m_customer_id') : '';
        customerMagentoId = customerMagentoId ? parseInt(customerMagentoId) : '';
        var eventAction = val;
        var customerType = "";
        if (__is_loginUSer()) {
            customerType = __get_perpetual_session("is_bfl_customer") == 1 ? "ETB" : "NTB";
        } else {
            customerType = "NONLOGGEDIN";
        }
        var dataObj = {
            magento_id: customerMagentoId,
            event_action: eventAction,
            page_type: pageType,
            Customer_Type:customer_type
        }
        dataLayerEvents.Header_LoanPodTooltip(dataObj)
    } catch (error) {
        console.log(error)
    }
}
/******************* Header Tool tip DL End ************************/
/********** Get Directions DL START **********/
function dlGetDirectionsCTA2W() {
    try {
		var dealer_id = "N/A";
		var modelId = productData.id;
        var customerId = __get_perpetual_session("customer_id");
        customerId = customerId == "undefined" || customerId == "" ? "" : parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1])
        var magentoId = parseInt(__get_perpetual_session("m_customer_id")) ? parseInt(__get_perpetual_session("m_customer_id")) : "";
        if (productData.status) {
                dealer_id = $("#defaultSelectedSeller").find("input").attr("data-sellerId");
                dealer_id = dealer_id ? parseInt(dealer_id) : '';
		}
		var obj = {
            magentoId: magentoId,
            customerId: customerId,
			dealer_id: dealer_id,
            model_id: modelId,
			page_type : "2wpdp",
			eventCategory: 'Two wheeler MMI',
            eventAction: 'Get direction CTA click'
        };
        dataLayerEvents.Two_wheeler_MMI(obj);
    } catch (error) {
        console.log(error);

    }
}
/********** Get Directions DL END **********/
function loanpodBooknowdl() {
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = "Loan POD Book Now"
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
} 
function newAddressCancelDl() {
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = "Loan POD add new address"
        obj.eventLabel = "Cancel"
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
} 
function loanpodcontinuectaDl() {
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = "Loan POD Address Selection"
        obj.eventLabel = "Continue"
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
} 

  /**Datalayer for 2W seller  change End*/

  function twoWheelerdlData(){
    var obj = {};
    obj.model_id = productData.id;
    obj.magento_id = __get_perpetual_session('m_customer_id') ? parseInt(__get_perpetual_session("m_customer_id")) : "";
    obj.productName = $(".info-prod-head").eq(0).text();
    return obj;
  }

  function otpSubmitdl(){
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = 'Loan POD OTP Popup'
        obj.eventLabel = 'Loan_Submit'
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
    
  }

  function  loanPodInstabuy(){
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = 'Loan POD Payment Proceed'
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
    
  }

  
  function  loanApprovedEmiPlan(){
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = 'Loan Approved Proceed'
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
    
  }

  function  verifyDetailsPopup(){
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = 'Loan POD Proceed'
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
    
  }
/** Datalayer When user clicks on cancel CTA on OTP pop up starts*/
function loanpodPopupCanceldl() {
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = "Loan POD OTP Popup";
        obj.eventLabel = "Loan_Cancel";
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
} 
/** Datalayer When user clicks on cancel CTA on OTP pop up ends*/

/** Datalayer when user clicks on resend OTP start */
function loanpodResenddl() {
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = "Loan POD OTP Popup";
        obj.eventLabel = "Loan_resend";
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
} 
/** Datalayer when user clicks on resend OTP end*/

/** Datalayer when user clicks on Save start */
function newAddressSavePopupdl() {
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = "Loan POD add new address";
        obj.eventLabel = "Save";
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
} 
/** Datalayer when user clicks on Save end*/

 /** Datalayer when user clicks on Save start */
 function newAddressClickdl() {
    try {
        var obj = twoWheelerdlData();
        obj.eventAction = "Loan POD Address Selection";
        obj.eventLabel = "Add new address";
        dataLayerEvents.Two_Wheeler_Loan_POD(obj)
    } catch (error) {
        console.log(error)
    }
} 
/** Datalayer when user clicks on Save end*/

function pdpDropOffDataLayer() {
    try {
        var customerType = "";
        if (__is_loginUSer()) {
            customerType = __get_perpetual_session("is_bfl_customer") == 1 ? "ETB" : "NTB";
        } else {
            customerType = "NONLOGGEDIN";
        }
        var customerId = __get_perpetual_session('customer_id') ? __get_perpetual_session('customer_id') : '';
        customerId = customerId != "undefined" && customerId != "" ? parseInt(reverseStr(atob(decodeURIComponent(customerId).split("|"))).split('_')[1]) : "";
        var product_name = $(".info-prod-head").eq(0).text();

        var dataObj = {
            'Product_Name': product_name,
            'Magento_ID': __get_perpetual_session("m_customer_id"),
            'Customer_ID': customerId,
            'Customer_Type': customerType,
        };
        dataLayerEvents.PDP_drop_off(dataObj);
    }
    catch (error) {
        console.error(error)
    } 
}

(function(_global) {

    var dataLayerEvents = (function(jsHelper) {

        var dataLayerEventsObj = {};

        /**********Private Functions - Start************/
        var _dataLayerPush = function(eventName, dataLayerObj) {
            if (eventName && dataLayerObj) {
                var _dataLayerObj = jsHelper.cloneJson(dataLayerObj, true);
                _dataLayerObj["event"] = eventName;
                return jsHelper.isArray(_global.dataLayer) && jsHelper.isGt(_global.dataLayer.push(_dataLayerObj), 0);
            }
            return false;
        }
        var _fnCallDataLayer = function(eventFn, data) {
            if (jsHelper.isFunc(eventFn) && data) {
                var eventData = eventFn(data);
                if (eventData) {
                    var status = _dataLayerPush(eventFn.name, eventData);
                    console.log("Event ", eventFn.name, " fired | status : ", status);
                }
            }
        }
        var _registerDataLayerFunction = function(innerFn) {
                dataLayerEventsObj[innerFn.name ? innerFn.toString().match(/^function\s*([^\s(]+)/)[1] : innerFn.name] = function(data) {
                    _fnCallDataLayer(innerFn, data);
                };
            }
            /**********Private Functions - End************/

        /*Note: Function name to be passed equal to EventName as per documentation. VERY IMPORTANT!*/

        _registerDataLayerFunction(function checkout_complete(data) {
            return {

                'ecommerce': {
                    "currencyCode": "INR",
                    "purchase": {
                        "actionField": {
                            "id": data.orderId,
                            "Affiliation": "NA",
                            "revenue": data.dimension60,
                            "action": "purchase",
                            "coupon": ""
                        },
                        'products': {
                            "name": data.name,
                            "id": data.entityId,
                            "price": data.offerPrice,
                            "brand": data.brandName,
                            "category": data.category,
                            "variant": data.variant,
                            "quantity": data.quantity,
                            "dimension2": data.dimension2,
                            "dimension3": data.dimension3,
                            "dimension4": data.dimension4,
                            "dimension10": data.dimension10,
                            "dimension11": data.dimension11,
                            "dimension12": data.dimension12,
                            "dimension13": data.dimension13,
                            "dimension14": data.dimension14,
                            "dimension60": data.dimension60,
                            "dimension64": data.dimension64,
                            "dimension66": data.dimension66,
                            //  "dimension96": data.dimension96,
                            "dimension97": data.dimension97
                        }
                    }
                }
            }
        });

        /*********************** Insta Buy Now PopUp DataLayer Start ********************/
        _registerDataLayerFunction(function checkout(data) {
            return {
                "event": "checkout",
                "ecommerce": {
                    "currencyCode": "INR",
                    "checkout": {
                        "actionField": {
                            "step": 1,
                            "option": "null",
                            "action": "checkout"
                        },
                        "products": [{
                            'name': data.name,
                            'id': data.id,
                            'price': data.price,
                            'brand': data.brand,
                            'category': data.category,
                            'variant': data.variant,
                            "quantity": data.quantity,
                            'dimension2': data.dimension2,
                            'dimension3': data.dimension3,
                            'dimension4': data.dimension4,
                            'dimension7': data.dimension7,
                            "dimension9": data.dimension9,
                            'dimension10': data.dimension10,
                            'dimension11': data.dimension11,
                            'dimension12': data.dimension12,
                            'dimension13': data.dimension13,
                            'dimension14': data.dimension14,
                            'dimension60': data.dimension60,
                            'dimension62': data.dimension62,
                            'dimension64': data.dimension64,
                            'dimension65': data.dimension65,
                            'dimension66': data.dimension66,
                            'dimension67': data.dimension67,
                            'dimension68': data.dimension68,
                            'dimension69': data.dimension69,
                            // 'dimension70': data.dimension70,
                            'dimension71': data.dimension71,
                            'dimension83': data.dimension83,
                            'dimension84': data.dimension84,
                            //'dimension96': data.dimension96,
                            'dimension97': data.dimension97,
                            'dimension110': data.dimension110,
                            'dimension111': data.dimension111,
                            'dimension150': data.dimension150,
                            'dimension186': data.dimension186

                        }]
                    },
                    "customer_id": data.dimension2,
                    "pageType": "Checkout"
                }
            }

        });
        
        _registerDataLayerFunction(function Order_Payment_Summary(data) {
            return {
                "event": data.event,
                'eventCategory': data.eventCategory,
                'eventAction': data.eventAction,
                'eventLabel': data.eventLabel,
                // "pageType": data.pageType,
                'dealer_id': data.dealer_id,
                'model_id': data.model_id,
                'Offer': data.Offer,
                'Price': data.Price,
                'customer_id': data.customerId

            }
        });
        /*********************** Insta Buy Now PopUp DataLayer END ********************/

        /******************* Installation_and_Dimension Start *******************/
        _registerDataLayerFunction(function Installation_and_Dimension(dataobj) {
            return {
                'event': 'Installation_and_Dimension',
                'eventCategory': 'Installation_and_Dimension',
                'eventAction': dataobj.select_dimension,
                'eventLabel': dataobj.dimensionsValue,
                'CustomerID': dataobj.customerId,
                'DealerID': dataobj.dealerId,
                'ModelID': dataobj.modelId,
                'DealerName': dataobj.dealerName,
                'Dealer_Type': dataobj.dealerType,
                'ProductName': dataobj.productName
            };
        });
        /******************* Installation_and_Dimension End *******************/

        _registerDataLayerFunction(function Buy_now_click_ProdcutDetailsPage_28(data) {
            return {
                'event': 'Buy_now_click_ProdcutDetailsPage_28',
                'pageType': data.pageType,
                'pageTitle': data.pageTitle,
                'product_name': data.product_name,
                'customer_id': data.customer_id,
                'available_to_spend': data.available_to_spend,
                'selection': data.selection,
                'Dealer_Name': data.Dealer_Name,
                'Model_ID': data.Model_Id,
                'Dealer_ID': data.Dealer_ID,
                'Amount': data.Amount,
                'Dealer_Type': data.Dealer_Type,
                'dimension186': data.dimension186
            }
        });

        _registerDataLayerFunction(function protect_what_you_buy_click_Commerce_ProductDetailsPage_21(dataobj) {
            return {
                'event': 'protect_what_you_buy_click_Commerce_ProductDetailsPage_21',
                'pageType': dataobj.pageType, //i.e. Product Detail Page
                'pageTitle': dataobj.pageTitle, //i.e. pdp
                'product_name': dataobj.productName,
                'offer_name': dataobj.offerName, //i.e. phone safe insurance - 1 year
                'selection': dataobj.selection, //i.e. selected/un-selected		//i.e. Noble Skiodo 81 cm (32 inches) 32CN32P01 HD Ready LED TV (Black)
                'customer_id': dataobj.customerId,
                'available_to_spend': dataobj.available_to_spend
            }
        });

        _registerDataLayerFunction(function Scheme_Selection_instabuy(dataObj) {
            return {
                "event": "Scheme_Selection_instabuy",
                "eventCategory": "Change EMI Scheme",
                "eventAction": "View EMI Schemes Instabuy",
                "eventLabel": dataObj.eventLabel,
                "Customer ID": dataObj.CustomerID,
                "Dealer Id": dataObj.dealer_id,
                "Model ID": dataObj.model_id,
                "Offer": dataObj.Offer,
                "Price": dataObj.Price
            };
        });

        _registerDataLayerFunction(function promocode_remove_click_cart_page_4(dataObj) {
            return {
                "event": "promocode_remove_click_cart_page_4",
                "pageType": "InstaBuy",
                "pageTitle": "InstaBuy",
                "product name": dataObj.product_name,
                "promoCode":dataObj.promoCode,
                "Customer ID":dataObj.customer_id,
                "Available To Spend":dataObj.available_to_spend
            };
        });

        /*********************** Notify Me OOS DataLayer START ********************/
        _registerDataLayerFunction(function Notify_Me_click_ProdcutDetailsPage_28(dataobj) {
            return {
                "event": "Notify_Me_click_ProdcutDetailsPage_28",
                "pageType": dataobj.pageType,
                "customer_id": dataobj.customerId,
                "Model_ID": dataobj.modeId,
                "magento_id": dataobj.magentoId,
                "product_name": dataobj.productName,
                "gtm.uniqueEventId": 129
            };
        });
        /*********************** Notify Me OOS DataLayer END ********************/

        /******************* Extend Warranty DATALAYER Start *******************/
        _registerDataLayerFunction(function Secure_Product(dataobj) {
            return {
                'event': 'Secure_Product',
                'eventCategory': 'Secure Product',
                'eventAction': dataobj.eventAction,
                'eventLabel': dataobj.eventLabel, //type
                'CustomerID': dataobj.CustomerID, //bfl custid 0th position on perpetual data it has to be decrypted
                'DealerID': dataobj.DealerID, // selected Dealer
                'ModelID': dataobj.ModelID, //id on PDP oload API
                'DealerName': dataobj.DealerName, /// Selected Dealer
                'Dealer_Type': dataobj.Dealer_Type, //Leave it Blank
                'ProductName': dataobj.ProductName // SKU name
            }
        });
        /******************* Extend Warranty DATALAYER END *******************/

         /******************* Insta Buy Start *******************/
         _registerDataLayerFunction(function insta_buy(dataobj) {
            if(dataobj.tncflag){
                return {
                    "event": "insta_buy",
                    "eventCategory": "Instabuy",
                    "eventAction": "Payment details",
                    "eventLabel": "Bajaj Finance Ltd T&Cs.",
                    "CustomerID": dataobj.CustomerID,
                    "pageType": "2wpdp",
                    "model_id": dataobj.model_id,
                    "productname": dataobj.productname,
                    "Dealer_ID": dataobj.Dealer_ID,
                    "Dealer_Type": dataobj.Dealer_Type,
                    "Amount": dataobj.Amount,
                    "gtm.uniqueEventId": 504
                }            
            }else{
                if(dataobj.flag)
                {
                    return {
                        "event": "insta_buy",
                        "eventCategory": "Instabuy",
                        "eventAction": "Payment Details",
                        "eventLabel": "View Details",
                        "CustomerID": dataobj.customer_id,
                        "model_id": dataobj.model_id,
                        "product_name": dataobj.product_name,
                        "dealer_Id": dataobj.dealer_id,
                        "Dealer_Type": dataobj.Dealer_Type,
                        "gtm.uniqueEventId": 407
                    }
                }
                else
                {
                    return {
                        "event": "insta_buy",
                        "eventCategory": "Instabuy",
                        "eventAction": "Payment Details",
                        "eventLabel": "Hide Details",
                        "CustomerID": dataobj.customer_id,
                        "model_id": dataobj.model_id,
                        "product_name": dataobj.product_name,
                        "dealer_Id": dataobj.dealer_id,
                        "Dealer_Type": dataobj.Dealer_Type,
                        "gtm.uniqueEventId": 407
                    }
                }
                }
            });
        /******************* Insta Buy End *******************/
        
        /******************* Explore Data Layer Start  *****************/
        _registerDataLayerFunction(function explore_similar_products(data) {
            return {
                'event': 'explore_similar_products',
                'eventCategory': 'Explore Similar Products',
                'eventAction': data.eventAction,
                'eventLabel': data.eventLabel,
                'CustomerID': data.CustomerID,
                'pageType': data.pageType,
                'model_id': data.model_id,
                'productname': data.productname,

            };
        });
        /******************* Explore Data Layer End *******************/

/******************* Insurance Selection Datalayer Start *******************/
_registerDataLayerFunction(function Insurance_selection(dataobj) {
    return {'event':'Insurance_selection',
    'eventCategory':'Insurance selection',
    'eventAction': dataobj.insurance_checkbox_message,
    'eventLabel':'NA',
    'Customer id': dataobj.customer_id,
    'Model id': dataobj.model_id,
    'Dealer id': dataobj.dealer_Id ,
    'Product name': dataobj.product_name,
    'Dealer type': dataobj.dealer_type
    }
});
/******************* Insurance Selection Datalayer End *******************/

/******************* View More Seller Datalayer Start *******************/
        _registerDataLayerFunction(function View_Seller(dataobj) {
            return {
                'event': 'View_seller',
                'eventCategory': 'View Seller',
                'eventAction': 'Change seller click',
                'pageType': '2wpdp',
                'eventLabel': dataobj.eventLabel,
                'delivery option':dataobj.delivery_option,
                'CustomerID': dataobj.CustomerID,
                'model_id': dataobj.model_id,
                'Dealer_id': dataobj.dealer_id
            };
        });
/******************* View More Seller Datalayer End *******************/

_registerDataLayerFunction(function select_plan(dataobj) {
    var pageType = globalDataLayerObj.pageType;
    if (pageType.includes("2w")) {
        return {
            'event': 'select_plan',
            'eventCategory': 'TwoWheeler secure your product',
            'eventAction': dataobj.eventAction,
            'Customer id': dataobj.Customer_ID,
            'Model id': dataobj.Model_ID,
            'Dealer id': dataobj.Dealer_ID,
            'Dealer type': dataobj.Dealer_type,
            'Product name': dataobj.Product_Name
        }
    } else {
        return {
            'event': 'select_plan',
            'eventCategory': 'secure your product',
            'eventAction': dataobj.eventAction,
            'Customer id': dataobj.Customer_ID,
            'Model id': dataobj.Model_ID,
            'Dealer id': dataobj.Dealer_ID,
            'Dealer type': dataobj.Dealer_type,
            'Product name': dataobj.Product_Name
        }
    }
});

_registerDataLayerFunction(function checkbox_click(dataobj) {
    var pageType = globalDataLayerObj.pageType;
    if (pageType.includes("2w")) {
        return {
            'event': 'select_plan',
            'eventCategory':'TwoWheeler secure your product',
            'eventAction': dataobj.eventAction,
            'Customer id': dataobj.Customer_ID,
            'Model id': dataobj.Model_ID,
            'Dealer id': dataobj.Dealer_ID,
            'Dealer type': dataobj.Dealer_type,
            'Product name': dataobj.Product_Name
        }
    }else{
        return {
            'event': 'checkbox_click',
            'eventCategory': 'secure your product',
            'eventAction': dataobj.eventAction,
            'Customer id': dataobj.Customer_ID,
            'Model id': dataobj.Model_ID,
            'Dealer id': dataobj.Dealer_ID,
            'Dealer type': dataobj.Dealer_type,
            'Product name': dataobj.Product_Name
        }
    }
});

_registerDataLayerFunction(function Cancel_CTA(data) {
    return {
                'event':'Cancel_CTA',
                'eventCategory':'Address change',
                'eventAction':'Cancel_CTA',
                'eventLabel':'NA',
                'Customer id': data.Customerid,
                'Model id': data.Modelid,
                'Dealer id':data.Dealerid,
                'Dealer type':data.Dealertype,
                'Dealer name':data.Dealer_name,
                'Product name': data.Productname,
                        
    }
});

_registerDataLayerFunction(function PDP_address_change(data) {
    var pageType = globalDataLayerObj.pageType;
    if (pageType.includes("2w")) {
        return {
            'event': 'TwoWheeler Address change',
            'eventCategory': 'TwoWheeler Address change',
            'eventAction': 'TwoWheeler_PDP_address_change_click',
            'eventLabel': 'NA',
            'Customer id': data.Customerid,
            'Model id': data.Modelid,
            'Dealer id': data.Dealerid,
            'Dealer name': data.Dealer_name,
            'Dealer_type': data.Dealer_type,
            'Product name': data.Productname,
            'Selected address text': data.Selecte_address_text,
        }
    } else {
        return {
            'event': 'PDP_address_change',
            'eventCategory': 'Address change',
            'eventAction': 'PDP_address_change_click',
            'eventLabel': 'NA',
            'Customer id': data.Customerid,
            'Model id': data.Modelid,
            'Dealer id': data.Dealerid,
            'Dealer_type': data.Dealer_type,
            'Product name': data.Productname,
            'Selected address text': data.Selecte_address_text,
            'Dealer name': data.Dealer_name,
        }
    }
});

/******************* Pincode at Change Address Tab DATALAYER Start *******************/
_registerDataLayerFunction(function pincode_submit(data) {
    return {
        'event': 'pincode_submit',
        'eventCategory': 'Address change',
        'eventAction': 'pincode_submission',
        'eventLabel': 'NA',
        'Customer id': data.Customerid,
        'Model id': data.Modelid,
        'Dealer id': data.Dealerid,
        'Product name': data.Productname,
        'Selected address text': data.Selecte_address_text,
        'Dealer name': data.Dealer_name,
        'amount': data.amount,
    }
});
/*******************  Pincode at Change Address Tab DATALAYER End *******************/
_registerDataLayerFunction(function compare_similar_products(dataobj) {
    return {
    'event':'compare_similar_products',
    'eventCategory':'Compare Similar Products',
    'eventAction': dataobj.eventAction,
    'eventLabel': dataobj.eventLabel,
    'CustomerID': dataobj.customer_id,
    'pageType': dataobj.page_Type,
    'model_id': dataobj.model_id,
    'productname': dataobj.product_name
    }
});

_registerDataLayerFunction(function CIC_Component_click(data) {
    return data;
});

 /******************* Scheme Change DATALAYER START *******************/
 _registerDataLayerFunction(function schemeSelectionPDP(dataObj) {
    return {
        "event": 'Scheme_Selection_PDP',
        "eventCategory": 'Change EMI Scheme',
        "eventAction": 'View EMI Schemes PDP',
        "eventLabel":dataObj.eventLabel,
        "Customer ID": dataObj.CustomerID,
        "Dealer Id":dataObj.dealer_Id,
        "Page Type":dataObj.page_type,
        "Model ID":dataObj.model_id,
        "Offer":dataObj.offer,
        "Price":dataObj.Price
    };
});
/******************* Scheme Change DATALAYER END *******************/
   
_registerDataLayerFunction(function TwoWheeler_Order_Payment_Summary(data) {
    return data
});

/******************* 2W Add to wishlist DATALAYER START *******************/
_registerDataLayerFunction(function TwoWheeler_add_to_wishlist_click_all_pages_12(data, datalayerType) {
    return {
        'event': 'TwoWheeler_add_to_wishlist_click_all_pages_12',
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        'product_name': data.product_name,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend,
        'Dealer Name': data["Dealer Name"],
        'Model_ID': data["Model ID"],
        'Dealer_ID': data["Dealer ID"],
        'Amount': data.Amount,
        'Dealer_Type': data["Dealer Type"]
    }
});
/******************* 2W Add to wishlist DATALAYER END *******************/

/******************* 2w Promocode apply click DATALAYER START *******************/
_registerDataLayerFunction(function TwoWheeler_promocode_apply_click_cart_page_4(data) {
    return {
        'event': 'TwoWheeler_promocode_apply_click_cart_page_4',
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        "product_name": data.product_name,
        'promoCode': data.promoCode,
        "customer_id": data.customer_id,
        "available_to_spend": data.available_to_spend,
    };
});
/******************* 2w Promocode apply click DATALAYER END *******************/

   /******************* 2w Protect what you buy DATALAYER Start *******************/
   _registerDataLayerFunction(function TwoWheeler_protect_what_you_buy_click_Commerce_ProductDetailsPage_21(dataobj) {
    return {
        'event': 'TwoWheeler_protect_what_you_buy_click_Commerce_ProductDetailsPage_21',
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        'product_name': dataobj.productName,
        'offer_name': dataobj.offerName, //i.e. phone safe insurance - 1 year
        'selection': dataobj.selection, //i.e. selected/un-selected     //i.e. Noble Skiodo 81 cm (32 inches) 32CN32P01 HD Ready LED TV (Black)
        'customer_id': dataobj.customerId,
        'available_to_spend': dataobj.available_to_spend
    }
});

/******************* 2w Protect what you buy DATALAYER Start *******************/

 /******************* 2W Price breakup DATALAYER START *******************/
 _registerDataLayerFunction(function TwoWheeler_price_breakup_PDP(dataobj) {
    return {
        "event": "2W_price_breakup_PDP",
        "product_name": dataobj.product_name,
        "customer_id": dataobj.customer_id,
        "available_to_spend": null,
        "Dealer Name": dataobj.dealer_name,
        "Model_ID": dataobj.model_id,
        "Dealer_ID": dataobj.dealer_id,
        "Amount": dataobj.product_amount,
        "Dealer_Type": "DPF",
        "gtm.uniqueEventId": 297
    }
});
/******************* 2w Price breakup  DATALAYER END *******************/

/*******************Two Wheeler and  PDP Cross button icon DATALAYER Start *******************/
_registerDataLayerFunction(function TwoWheeler_Cancel_CTA(data) {
    return {
        'event': 'TwoWheeler_Cancel_CTA',
        'eventCategory': 'TwoWheeler Address change',
        'eventAction': 'TwoWheeler_Cancel_CTA',
        'eventLabel': 'NA',
        'Customer id': data.Customerid,
        'Model id': data.Modelid,
        'Dealer id': data.Dealerid,
        'Dealer type': data.Dealertype,
        'Dealer name': data.Dealer_name,
        'Product name': data.Productname,
    }
});
/******************* Two Wheeler and PDP Cross button icon DATALAYER End *******************/
/******************* Two Wheeler and PDP DL Pincode Change Address Tab DATALAYER Start *******************/
_registerDataLayerFunction(function TwoWheeler_pincode_submit(data) {
    return {
        'event': 'TwoWheeler_pincode_submit',
        'eventCategory': 'TwoWheeler_Address change',
        'eventAction': 'TwoWheeler_pincode_submission',
        'eventLabel': 'NA',
        'Customer id': data.Customerid,
        'Model id': data.Modelid,
        'Dealer id': data.Dealerid,
        'Product name': data.Productname,
        'Selected address text': data.Selecte_address_text,
        'Dealer name': data.Dealer_name,
        'amount': data.amount,
    }
});
/*******************  Two Wheeler and PDP DL Pincode Change Address Tab DATALAYER End *******************/
/******************* 2w Compare similiar products Datalayer START *******************/
_registerDataLayerFunction(function TwoWheeler_compare_similar_products(dataobj) {
    return {
        'event': 'TwoWheeler_compare_similar_products',
        'eventCategory': 'Compare Similar Products',
        'eventAction': dataobj.eventAction,
        'eventLabel': dataobj.eventLabel,
        'CustomerID': dataobj.customer_id,
        'pageType': dataobj.page_Type,
        'model_id': dataobj.model_id,
        'productname': dataobj.product_name
    }
});
/******************* 2w Compare similiar products Datalayer End *******************/

/******************* 2W Scheme Selection DATALAYER Start *******************/
_registerDataLayerFunction(function TwoWheeler_Scheme_Selection_PDP(dataobj) {
    return {
        'event': 'TwoWheeler_Scheme_Selection_PDP',
        'eventCategory': 'Two Wheeler Change EMI Scheme',
        'eventAction': dataobj.eventAction,
        'eventLabel': dataobj.eventLabel,
        'dealer_Id': dataobj.DealerID,
        'page_type': dataobj.pageType,
        'model_id': dataobj.model_id,
        'offer': dataobj.offer,
        'Price': dataobj.Price,
    }
});
/******************* 2W Scheme Selection DATALAYER END *******************/

/******************* 2w Change Pincode DATALAYER START *******************/
_registerDataLayerFunction(function TwoWheeler_pincode_change(dataobj) {
    return {
        'event': 'TwoWheeler_pincode_change',
        'eventCategory': 'TwoWheeler Pincode',
        'eventAction': 'TwoWheeler_pincode_change click',
        'eventLabel': 'NA',
        'CustomerID': dataobj.Customer_ID,
        'ModelID': dataobj.Model_ID,
        'ProductName': dataobj.Product_Name,
        'DealerName': dataobj.Dealer_Name,
        'DealerID': dataobj.Dealer_ID,
        'Amount': dataobj.Amount,
        'Dealertype': dataobj.Dealer_type
    }
});
/******************* 2w Change Pincode DATALAYER START *******************/

/***************** ProductClick DATALAYER End *******************/
_registerDataLayerFunction(function productImpressionTwoWheeler(data) {
    return {
        "event": "productImpression",
        "ecommerce": {
            "currencyCode": "INR",
            "impressions": [data]
        },
        "gtm.uniqueEventId": 83
    }
});
/***************** ProductClick DATALAYER End *******************/

/***************** 2W instabuy scheme change start *******************/

_registerDataLayerFunction(function TwoWheeler_Scheme_Selection_instabuy(dataobj) {
    return {
        "event": "TwoWheeler_Scheme_Selection_instabuy",
        "eventCategory": "TwoWheeler Change EMI Scheme",
        "eventAction": "TwoWheeler View EMI Schemes Instabuy",
        "eventLabel": dataobj.eventLabel,
        'CustomerID':dataobj.customer_id,
        "product_name": dataobj.product_name,
        "dealer_id": dataobj.dealer_id,
        "model_id": dataobj.model_id,
        "Price": dataobj.Price,
        "gtm.uniqueEventId": 424
    }
});
/***************** 2W instabuy scheme change end *******************/

/***************** Two Wheeler Remove PromoCode DATALAYER Start *******************/
_registerDataLayerFunction(function TwoWheeler_promocode_remove_click_cart_page_4(dataobj) {
    return { 
        "event": "TwoWheeler_promocode_remove_click_cart_page_4",
        "pageType": "InstaBuy",
        "pageTitle": "InstaBuy",
        "product_name": dataobj.product_name,
        "promoCode": dataobj.promoCode,
        "customer_id": dataobj.customer_id,
        "available_to_spend": dataobj.available_to_spend,
        "gtm.uniqueEventId": 1056
        }
})
/***************** Two Wheeler Remove PromoCode DATALAYER End *******************/


   /***************** 2W PDP scheme change start *******************/

   _registerDataLayerFunction(function Scheme_Selection_PDP(dataobj) {
    var pageType = globalDataLayerObj.pageType;
    if (pageType.includes("2w")) {
        return {
            "event": "Scheme_Selection_PDP",
            "eventCategory": "TwoWheeler Change EMI Scheme",
            "eventAction": "TwoWheeler View EMI Schemes PDP",
            "eventLabel": dataobj.eventLabel,
            "CustomerID": dataobj.customer_id,
            "dealer_Id": dataobj.dealer_id,
            "page_type": "2wpdp",
            "product_name": dataobj.product_name,
            "available_to_spend": dataobj.available_to_spend,
            "model_id": dataobj.model_id,
            "Price": dataobj.Price,
            "gtm.uniqueEventId": 360
        }
    } else {
        return {
            'event': 'Scheme_Selection_PDP',
            'eventCategory': 'Change EMI Scheme',
            'eventAction': dataobj.eventAction,
            'eventLabel': dataobj.eventLabel,
            'dealer_Id': dataobj.DealerID,
            'page_type': dataobj.pageType,
            'model_id': dataobj.model_id,
            'offer': dataobj.offer,
            'Price': dataobj.Price,
        }
    }
});
/***************** 2W PDP scheme change end *******************/
  /******************* 2w Footer Click Datalayer Start *******************/
  _registerDataLayerFunction(function TwoWheelers_bottom_links(dataobj) {
    return {
        'event': 'TwoWheelers_bottom_links',
        'eventCategory': dataobj.page_Type,
        'eventAction': 'Footer Click',
        'eventLabel': dataobj.link_Text,
        'CustomerID': dataobj.customer_id
    }
});
/******************* 2w Footer Click Datalayer End *******************/

  /** COMMON DL START */
     /******************* My_Profile_Section Start *******************/
     /* _registerDataLayerFunction(function My_Profile_Section(dataobj) {
        return {
            'event': 'my_profile_section',
            'eventCategory': 'My profile section',
            'eventAction': dataobj.eventAction,
            'CustomerID': dataobj.CustomerID,
            'pageType': dataobj.pageType

        };
    }); */

    _registerDataLayerFunction(function Profile_menu_click(dataobj) {
        return {
            'event': 'Profile_menu_click',
            'eventCategory': 'Profile menu click',
            'eventAction': 'Profile_menu_click',
            'eventLabel': 'NA',
            'Page type': dataobj.pageType
        }
    });
    /******************* My_Profile_Section End *******************/

    /*********************** Bell Notification DataLayer on all Start ********************/
    _registerDataLayerFunction(function bell_notification(dataobj) {  
        return(dataobj)
    });
    /*********************** Bell Notification DataLayer on all End ********************/ 
    
    _registerDataLayerFunction(function bread_crumb_click_all_pages_13(data) {
        return {
            'event': 'bread_crumb_click_all_pages_13',
            'pageType': data.pageType,
            'pageTitle': data.pageTitle,
            'clickText': data.clickText,
            'customer_id': data.customer_id,
            'available_to_spend': data.available_to_spend
        }
    });

    /******************* Login Events DataLayer Start *******************/
    _registerDataLayerFunction(function login_click_all_pages_14(data) {
        return data
    });
    /******************* Login Events DataLayer END *******************/

    /******************* City Selection DATALAYER Start *******************/
    _registerDataLayerFunction(function city_selection_click_all_pages_11(dataobj) {
        return {
            'event': 'city_selection_click_all_pages_11',
            'pageType': dataobj.pageType,
            'pageTitle': dataobj.pageTitle,
            'selected_city': dataobj.selected_city,
            'customer_id': dataobj.customer_id,
            'available_to_spend': dataobj.available_to_spend
        }
    });
    /******************* City Selection DATALAYER END *******************/
    /******************* NudgeFrameWork Datalayer Start *******************/
    _registerDataLayerFunction(function login_nudge(dataobj) {
        return {
            'event': 'login_nudge'  ,
            'eventCategory': 'Login Nudge',
            'eventAction': dataobj.eventAction,
            'Customer ID': dataobj.customer_id,
            'Page Type': dataobj.pageType
        }
    });

    _registerDataLayerFunction(function login_strip(dataobj) {
        return {
            'event': 'login_strip',
            'eventCategory': 'Login Strip',
            'eventAction': dataobj.eventAction,
            'Customer ID': dataobj.customer_id,
            'Page Type': dataobj.pageType
        }
    });
    /******************* NudgeFrameWork Datalayer Start *******************/
    /******************* PreBookPreOrder Datalayer Start ***********************/
    _registerDataLayerFunction(function Prebooking(dataobj) {
        return dataobj
    });
    /******************* PreBookPreOrder Datalayer End ***********************/
    /******************* Datalayer for cart button Start *******************/
    _registerDataLayerFunction(function cart_button_click(data) {
        return {
            'event':'cart_button_click',
            'eventCategory':'cart button click',
            'eventAction':'cart_button_click',
            'eventLabel':'NA',
            'Customer id':data.Customerid,
            'Number of products':data.Number_of_products,
            'Page type':data.Pagetype,
        }
    });
    /******************* Datalayer for cart button End *******************/  

     /******************* Footer Click Datalayer Start *******************/
     _registerDataLayerFunction(function bottom_links(dataobj) {
        return {
        'event':'bottom_links',
        'eventCategory': dataobj.page_Type,
        'eventAction':'Footer Click',
        'eventLabel': dataobj.link_Text,
        'CustomerID': dataobj.customer_id
        }
    });
    /******************* Footer Click Datalayer End *******************/

   /******************* For you page Product Recommendation Section Datalayer Start  *******************/
   _registerDataLayerFunction(function recommendations_for_you(data) {
    return {
        'event':'recommendations_for_you',
        'eventCategory':'recommendations for you',
        'eventAction':'recommendations_for_you_click',
        'Model ID':data.ModelId,
        'Customer ID': data.CustomerId,
        'Page title': data.PageTitle,
        'Section Name':data.SectionName,
        'Product name EMI': data.ProductName
    }
});
/*******************For you page Product Recommendation Section Datalayer End *******************/
/******************* Footer Mobile DATALAYER START *******************/
_registerDataLayerFunction(function footer_click(dataObj) {
    return {
        'event': 'footer_click',
        'eventCategory': 'footer click',
        'eventAction': dataObj.event_action,
        'Page name': dataObj.page_name ,
        'Page title': dataObj.page_title,
        'Customer ID': dataObj.customer_id,
        'Magento ID': dataObj.magento_id
    }
});
/******************* Footer Mobile DATALAYER END *******************/

  /******************* Data Layer for CrossselBanner on Impression Start *******************/
  _registerDataLayerFunction(function promotionImpression(data) {
    return {
        "event": "promotionImpression",
        "ecommerce": {
            "promoView": {
                promotions: data
            }
        },
        "gtm.uniqueEventId": 81
    }

});
/******************* Data Layer for CrossselBanner on Impression End *******************/

_registerDataLayerFunction(function promotionClick(data) {
    return {

        'ecommerce': {
            'currencyCode': data.ecommerce.currencyCode,
            'click': {
                'actionField': data.ecommerce.click.actionField,
                'products': {
                    'name': data.ecommerce.click.products[0].name,
                    'id': data.ecommerce.click.products[0].id,
                    'price': data.ecommerce.click.products[0].price,
                    'brand': data.ecommerce.click.products[0].brand,
                    'category': data.ecommerce.click.products[0].category,
                    'variant': data.ecommerce.click.products[0].variant,
                    'position': data.ecommerce.click.products[0].position,
                    'dimension3': data.ecommerce.click.products[0].emi,
                    'dimension7': data.ecommerce.click.products[0].name,
                    'dimension9': data.ecommerce.click.products[0].category,
                    'dimension10': data.ecommerce.click.products[0].sku,
                    'dimension11': data.ecommerce.click.products[0].downpayment,
                    'dimension12': data.ecommerce.click.products[0].mrp,
                    'dimension13': data.ecommerce.click.products[0].discount,
                    'dimension60': data.ecommerce.click.products[0].price,
                    'dimension64': data.ecommerce.click.products[0].insurance,
                    'dimension65': data.ecommerce.click.products[0].imageurl,
                    'dimension66': data.ecommerce.click.products[0].exchange,
                    'dimension67': data.ecommerce.click.products[0].brand,
                    'dimension68': data.ecommerce.click.products[0].manufacturer,
                    'dimension69': data.ecommerce.click.products[0].offers,
                    'dimension70': data.ecommerce.click.products[0].size,
                    'dimension71': data.ecommerce.click.products[0].color,
                    'dimension83': data.ecommerce.click.products[0].position,
                    'dimension84': data.ecommerce.click.products[0].searchterm
                }
            },
            'customer_id': data.ecommerce.customer_id,
            'pagetype': data.ecommerce.pagetype
        }
    }
});

_registerDataLayerFunction(function productImpression(data) {

    var data_layer = {
        'ecommerce': {
            'currencyCode': data.ecommerce.currencyCode,
            'impressions': []
        },
        'customer_id': data.customer_id,
        'pagetype': data.pagetype,
    }


    data.ecommerce.impressions.forEach(function(each) {


        var eachData = {
            'name': each.name,
            'list': each.list,
            'id': each.id,
            'price': each.price,
            'brand': each.brand,
            'category': each.category,
            'variant': each.variant,
            'position': each.position,
            'dimension3': each.emi,
            'dimension7': each.name,
            'dimension9': each.category,
            'dimension10': each.sku,
            'dimension11': each.downpayment,
            'dimension12': each.mrp,
            'dimension13': each.discount,
            'dimension60': each.price,
            'dimension64': each.insurance,
            'dimension65': each.imageurl,
            'dimension66': each.exchange,
            'dimension67': each.brand,
            'dimension68': each.manufacturer,
            'dimension69': each.offers,
            'dimension70': each.size,
            'dimension71': each.color,
            'dimension83': each.position,
            'dimension84': each.searchterm
        }

        data_layer.ecommerce.impressions.push(eachData);
    });
    console.log("productImpression 1");
    return data_layer;
});

_registerDataLayerFunction(function productClick(data) {
    return {
        "event": "productClick",
        "ecommerce": {
            "currencyCode": "INR",
            "click": {
                "actionField": {
                    "list": "Product List Page",
                    "action": "click"
                },
                "products": [{
                    "name": data.name,
                    "id": data.id,
                    "price": data.price,
                    "brand": data.brand,
                    "category": data.category,
                    "variant": data.variant,
                    "position": data.position,
                    "dimension2": data.customerId,
                    "dimension3": data.productemi,
                    "dimension4": data.pagetype,
                    "dimension10": data.sku,
                    "dimension11": data.downpaymentamount,
                    "dimension12": data.productmrp,
                    "dimension7": data.productname,
                    "dimension9": data.productcategory,
                    "dimension67": data.productbrand,
                    "dimension14": data.availablelimit,
                }]
            }
        },
        "gtm.uniqueEventId": 28
    }
});

 /*********************** add_to_cart_click_ProdcutDetailsPage_28 DataLayer Start ********************/
 _registerDataLayerFunction(function add_to_cart_click_ProdcutDetailsPage_28(data) {
    return {
        'pageCategory': dataobj.pageCategory,
        'event': 'add_to_cart_click_ProdcutDetailsPage_28',
        'pageType': data.pageType,
        'product_name': data.product_name,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend,
        'selection': data.selection,
        'Dealer_Name': data.Dealer_Name,
        'Model_ID': data.Model_Id,
        'Dealer_ID': data.Dealer_ID,
        'Amount': data.Amount,
        'Dealer_Type': data.Dealer_Type,
        "magento_id": data.magentoId,
        'pageCategory': dataobj.pageCategory,
        "gtm.uniqueEventId": 129,
    }
});

/*********************** add_to_cart_click_ProdcutDetailsPage_28 DataLayer END ********************/

  /******************* NDD governance tracking Datalayer Start *******************/
  _registerDataLayerFunction(function Ndd_governanceTracking(dataobj) {
    return {
        'event': 'NDD',
        'eventCategory': 'NDD',
        'eventAction': dataobj.dealerName,
        'eventLabel': dataobj.loadingDealer,
        'Dealer ID': dataobj.dealerId,
        'Model ID': dataobj.modelId,
        'Dealer_Type': dataobj.dealerType,
        'Amount': dataobj.amount,
        'NDD_hit': dataobj.nddHit
    };
});
/******************* NDD governance tracking Datalayer End *******************/

/******************* Auto-Suggest Datalayer Start *******************/
_registerDataLayerFunction(function Suggestive_Search(dataobj) {
    return {
        'event': 'Suggestive_Search',
        'eventCategory': 'Suggestive Search',
        'eventAction': dataobj.action,
        'eventLabel': dataobj.label,
        'Customer ID': dataobj.customerId,
        'User_City': dataobj.userCity,
        'Page_Type': dataobj.pageType,
    };
});
/******************* Auto-Suggest Datalayer End *******************/
_registerDataLayerFunction(function addTocart_click_on_PDP_page(data) {
    var pageType = globalDataLayerObj.pageType;
    if (pageType.includes("2w")) {
        return {
            'ecommerce': {
                'currencyCode': "INR",
                'add': {
                    'products': [{
                        'name': data.name,
                        'id': data.id,
                        'price': data.price,
                        'brand': data.brand,
                        'category': data.category,
                        'variant': data.variant,
                        'position': data.position,
                        'dimension2': data.dimension2,
                        'dimension3': data.dimension3,
                        'dimension4': data.dimension4,
                        'dimension7': data.name,
                        'dimension9': data.category,
                        'dimension10': data.dimension10,
                        'dimension11': data.dimension11,
                        'dimension12': data.dimension12,
                        'dimension13': data.dimension13,
                        'dimension14': data.dimension14,
                        'dimension60': data.dimension60,
                        'dimension62': data.dimension62,
                        // 'dimension13': data.dimension13,
                        // 'dimension60': data.dimension60,
                        'dimension64': data.dimension64,
                        'dimension65': data.dimension65,
                        'dimension66': data.dimension66,
                        'dimension67': data.dimension67,
                        'dimension68': data.dimension68,
                        'dimension69': data.dimension69,
                        // 'dimension70': data.dimension70,
                        'dimension71': data.dimension71,
                        'dimension83': data.dimension83,
                        'dimension84': data.dimension84,
                        //'dimension96': data.dimension96,
                        'dimension97': data.dimension97,
                        //'dimension109': data.dimension109,
                        'dimension110': data.dimension110,
                        'dimension111': data.dimension111,
                        'dimension150': data.dimension150,
                        // 'dimension117': data.dimension117
                        "dimension172": data.dimension172,
                        "dimension186": data.dimension186
                    }]
                },
                'customer_id': data.dimension2,
                'pagetype': data.dimension4
            }
        }
    } else {
        return {
            'ecommerce': {
                'currencyCode': "INR",
                'add': {
                    'products': [{
                        'name': data.name,
                        'id': data.id,
                        'price': data.price,
                        'brand': data.brand,
                        'category': data.category,
                        'variant': data.variant,
                        'position': data.position,
                        'dimension2': data.dimension2,
                        'dimension3': data.dimension3,
                        'dimension4': data.dimension4,
                        'dimension7': data.name,
                        'dimension9': data.category,
                        'dimension10': data.dimension10,
                        'dimension11': data.dimension11,
                        'dimension12': data.dimension12,
                        'dimension13': data.dimension13,
                        'dimension14': data.dimension14,
                        'dimension60': data.dimension60,
                        'dimension62': data.dimension62,
                        // 'dimension13': data.dimension13,
                        // 'dimension60': data.dimension60,
                        'dimension64': data.dimension64,
                        'dimension65': data.dimension65,
                        'dimension66': data.dimension66,
                        'dimension67': data.dimension67,
                        'dimension68': data.dimension68,
                        'dimension69': data.dimension69,
                        // 'dimension70': data.dimension70,
                        'dimension71': data.dimension71,
                        'dimension83': data.dimension83,
                        'dimension84': data.dimension84,
                        //'dimension96': data.dimension96,
                        'dimension97': data.dimension97,
                        //'dimension109': data.dimension109,
                        'dimension110': data.dimension110,
                        'dimension111': data.dimension111,
                        'dimension150': data.dimension150,
                        // 'dimension117': data.dimension117
                        "dimension172": data.dimension172,
                        "dimension186": data.dimension186
                    }]
                },
                'customer_id': data.dimension2,
                'pagetype': data.dimension4
            }
        }
    }
});

_registerDataLayerFunction(function productdetail(data) {

    return {
        'ecommerce': {
            'currencyCode': "INR",
            'detail': {
                'products': [{
                    'name': data.name,
                    'id': data.id,
                    'price': data.price,
                    'brand': data.brand,
                    'category': data.category,
                    'variant': data.variant,
                    'position': data.position,
                    'dimension2': data.dimension2,
                    'dimension3': data.dimension3,
                    'dimension4': data.dimension4,
                    'dimension7': data.dimension7,
                    'dimension9': data.dimension9,
                    'dimension10': data.dimension10,
                    'dimension11': data.dimension11,
                    'dimension12': data.dimension12,
                    'dimension13': data.dimension13,
                    'dimension14': data.dimension14,
                    'dimension60': data.dimension60,
                    'dimension62': data.dimension62,
                    'dimension64': data.dimension64,
                    'dimension65': data.dimension65,
                    'dimension66': data.dimension66,
                    'dimension67': data.dimension67,
                    'dimension68': data.dimension68,
                    'dimension69': data.dimension69,
                    //'dimension70': data.dimension70,
                    'dimension71': data.dimension71,
                    'dimension83': data.dimension83,
                    'dimension84': data.dimension84,
                    // 'dimension96': data.dimension96,
                    'dimension97': data.dimension97,
                    'dimension104': data.dimension104,
                    'dimension109': data.dimension109,
                    'dimension110': data.dimension110,
                    'dimension111': data.dimension111,
                    'dimension150': data.dimension150,
                    // "dimension117": data.dimension117,           // Netflix â€“ netflix_selected or netflix_nonselected
                    "dimension172": data.dimension172,
                    "dimension186": data.dimension186
                }]
            },
            'customer_id': data.dimension2,
            'pagetype': data.dimension4,
            'pageCategory': data.pageCategory,
            'Customer_Type': data.customer_type
        }
    }
});

_registerDataLayerFunction(function view_details_click_Commerce_ProductDetailsPage_15(data) {
    return {
        'pageType': data.pageType,
        'pageTitle': data.pageTitle,
        "product_name": data.product_name,
        "section_name": data.section_name,
        'element': data.element,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend,
        'event': data.event
    };
});

 /******************* Specification DATALAYER Start *******************/
 _registerDataLayerFunction(function view_more_specifications_click_Commerce_ProductDetailsPage_15(data) {
    return {
        'pageType': data.pageType,
        'pageTitle': data.pageTitle,
        "product_name": data.product_name,
        "section_name": data.section_name,
        'element': data.element,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend,
        'event': data.event
    };
});

       _registerDataLayerFunction(function view_less_specifications_click_Commerce_ProductDetailsPage_15(data) {
            return {
                'pageType': data.pageType,
                'pageTitle': data.pageTitle,
                "product_name": data.product_name,
                "section_name": data.section_name,
                'element': data.element,
                'customer_id': data.customer_id,
                'available_to_spend': data.available_to_spend,
                'event': data.event
            };
        }); 

/******************* Specification DATALAYER End *******************/

_registerDataLayerFunction(function more_emi_options_click_Commerce_ProductDetailsPage_9(data) {

    return {
        'pageType': data.pageType,
        'pageTitle': data.pageTitle,
        'product_name': data.product_name,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend
    };
});

_registerDataLayerFunction(function submit_review_click_Commerce_ProductDetailsPage_24(data) {

    return {
        'pageType': data.pageType,
        'pageTitle': data.pageTitle,
        'product_name': data.product_name,
        'rating': data.rating,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend
    };
});

_registerDataLayerFunction(function write_a_review_click_Commerce_ProductDetailsPage_23(data) {
    return {
        'pageType': data.pageType,
        'pageTitle': data.pageTitle,
        'product_name': data.product_name,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend,
    };
});

_registerDataLayerFunction(function rate_a_product_click_Commerce_ProductDetailsPage_22(data) {
    return {

        "pageType": data.pageType,
        "pageTitle": data.pageTitle,
        "product_name": data.product_name,
        "rating": data.rating,
        "customer_id": data.customer_id,
        "available_to_spend": data.available_to_spend,
    };
});

_registerDataLayerFunction(function have_a_promocode_click_cart_page_3(data) {
    return {
        'event': 'have_a_promocode_click_cart_page_3',
        "pageType": data.pageType,
        "pageTitle": data.pageTitle,
        "product_name": data.product_name,
        "customer_id": data.customer_id,
        "available_to_spend": data.available_to_spend,
    };
});

_registerDataLayerFunction(function promocode_apply_click_cart_page_4(data) {
    return {
        'event': 'promocode_apply_click_cart_page_4',
        "pageType": data.pageType,
        "pageTitle": data.pageTitle,
        "product_name": data.product_name,
        'promoCode': data.promoCode,
        "customer_id": data.customer_id,
        "available_to_spend": data.available_to_spend,
    };
});

_registerDataLayerFunction(function pop_up_close_click_Commerce_ProductDetailsPage_2(data) {

    return {
        'pageType': data.pageType,
        'pageTitle': data.pageTitle,
        'product_name': data.product_name,
        'section_name': data.sectionName,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend
    };
});

_registerDataLayerFunction(function add_to_wishlist_click_all_pages_12(data, datalayerType) {

    return {
        'event': 'add_to_wishlist_click_all_pages_12',
        'pageType': data.pageType,
        'pageTitle': data.pageTitle,
        'product_name': data.product_name,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend,
        'Dealer Name': data["Dealer Name"],
        'Model_ID': data["Model ID"],
        'Dealer_ID': data["Dealer ID"],
        'Amount': data.Amount,
        'Dealer_Type': data["Dealer Type"]
    }

});

// _registerDataLayerFunction(function image_hover_large_Commerce_ProductDetailsPage_5(dataobj) {
//     return {
//         'event': 'image_hover_large_Commerce_ProductDetailsPage_5',
//         'pageType': dataobj.pageType, //i.e. Product Detail Page
//         'pageTitle': dataobj.pageTitle, //i.e. pdp
//         'product_name': dataobj.productName,
//         'image_number': dataobj.imageNumber,
//         'customer_id': dataobj.customerId,
//         'available_to_spend': dataobj.available_to_spend
//     }
// });

/******************* Logo Click DATALAYER Start *******************/

_registerDataLayerFunction(function logo_click_all_pages_1(dataobj) {
    return {
        'event': 'logo_click_all_pages_1',
        'pageType': dataobj.pageType, //i.e. Product Detail Page
        'pageTitle': dataobj.pageTitle, //i.e. pdp
        'customer_id': dataobj.customerId,
        'available_to_spend': dataobj.available_to_spend
    }
});
/******************* Logo Click DATALAYER END *******************/

 /******************* View All page 1 DATALAYER Start *******************/

 _registerDataLayerFunction(function view_all_offers_click_cart_page_1(dataobj) {
    return {
        'event': 'view_all_offers_click_cart_page_1',
        'pageType': dataobj.pageType, //i.e. Product Detail Page
        'pageTitle': dataobj.pageTitle, //i.e. pdp
        'product_name': dataobj.productName,
        'section_name': data.sectionName,
        'customer_id': dataobj.customerId,
        'available_to_spend': dataobj.available_to_spend
    }
});

/******************* View All page 1 DATALAYER END *******************/

/******************* PROF LOAN  DATALAYER START *******************/
_registerDataLayerFunction(function Medical_Equipment(dataobj) {
    return {
        'event': 'Medical_Equipment',
        'eventCategory': 'Medical Equipment Submit Click',
        'eventAction': dataobj.isDoctor,
        'eventLabel': dataobj.usage,
        'Customer ID': dataobj.customerId,
        'Dealer Name': dataobj.dealerName,
        'Dealer ID': dataobj.dealerId,
        'Model ID': dataobj.modelId,
        'Model Name': dataobj.modelName
    };
});

/******************* PROF LOAN  DATALAYER END *******************/

/******************* 2W View All page DATALAYER Start *******************/
_registerDataLayerFunction(function TwoWheeler_view_all_highlights_click_all_pages_6(dataobj) {
    return {
        'event': 'TwoWheeler_view_all_highlights_click_all_pages_6',
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        'section_name': dataobj.sectionName,
        'customer_id': dataobj.customerId,
        'available_to_spend': dataobj.available_to_spend
    }
});
/******************* 2W View All page DATALAYER END *******************/

/*******************   2W FAQ dl Start  *******************/
_registerDataLayerFunction(function TwoWheeler_view_all_click_all_pages_6(dataobj) {
    return {
        'event': 'TwoWheeler_view_all_click_all_pages_6',
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        'section_name': dataobj.sectionName,
        'customer_id': dataobj.customerId,
        'available_to_spend': dataobj.available_to_spend
    }
});
/*******************   2W FAQ dl End  *******************/

/******************* Change Pincode DATALAYER START *******************/

/******************* TwoWheeler viewmore  DATALAYER START *******************/
_registerDataLayerFunction(function TwoWheeler_view_more_specifications_click_Commerce_ProductDetailsPage_15(data) {
    return {
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        "product_name": data.product_name,
        "section_name": data.section_name,
        'element': data.element,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend,
        'event': data.event
    };
});
_registerDataLayerFunction(function TwoWheeler_view_less_specifications_click_Commerce_ProductDetailsPage_15(data) {
    return {
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        "product_name": data.product_name,
        "section_name": data.section_name,
        'element': data.element,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend,
        'event': data.event
    };
});
/******************* TwoWheeler viewmore  DATALAYER END *******************/

/******************* Two Wheeler View More Seller Datalayer Start *******************/
_registerDataLayerFunction(function TwoWheeler_view_Seller(dataobj) {
    return {
        'event': "TwoWheeler_view_Seller",
        'eventCategory': 'TwoWheeler_View Seller',
        'eventAction': 'View More Seller',
        'eventLabel': dataobj.product_name,
        'CustomerID': dataobj.customer_id,
        'pageType': dataobj.page_type,
        'model_id': dataobj.model_id
    };
});
/*******************Two Wheeler View More Seller Datalayer End *******************/

/******************* View More Benefit DATALAYER Start *******************/
_registerDataLayerFunction(function view_more_benefits(dataobj) {
    var pageType = globalDataLayerObj.pageType;
    if (pageType.includes("2w")) {
        return {
            'event': 'view_more_benefits',
            'eventCategory': 'TwoWheeler secure your product',
            'eventAction': 'TwoWheeler_view_more_benefits_click',
            'eventLabel': 'NA',
            'Customer id': dataobj.Customer_ID,
            'Model id': dataobj.Model_ID,
            'Dealer id': dataobj.Dealer_ID,
            'Dealer type': dataobj.Dealer_type,
            'Product name': dataobj.Product_Name
        }
    } else {
        return {
            'event': 'view_more_benefits',
            'eventCategory': 'secure your product',
            'eventAction': 'view_more_benefits_click',
            'eventLabel': 'NA',
            'Customer id': dataobj.Customer_ID,
            'Model id': dataobj.Model_ID,
            'Dealer id': dataobj.Dealer_ID,
            'Dealer type': dataobj.Dealer_type,
            'Product name': dataobj.Product_Name
        };
    }
});
/******************* View More Benefit DATALAYER end *******************/
_registerDataLayerFunction(function TwoWheeler_view_few_faqs_click_all_pages_6(dataobj) {
    return {
        'event': 'TwoWheeler_view_few_faqs_click_all_pages_6',
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        'section_name': dataobj.sectionName,
        'customer_id': dataobj.customerId,
        'available_to_spend': dataobj.available_to_spend
    }
});

/*******************   2W Write a review click dl starts *******************/
_registerDataLayerFunction(function TwoWheeler_write_a_review_click_Commerce_ProductDetailsPage_23(data) {
    return {
        'event': "TwoWheeler_write_a_review_click_Commerce_ProductDetailsPage_23",
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        'product_name': data.product_name,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend,
    };
});
/*******************   2W Write a review click dl End  *******************/

/*******************   2W submit a review click dl End  *******************/
_registerDataLayerFunction(function TwoWheeler_submit_review_click_Commerce_ProductDetailsPage_24(data) {
    return {
        'event': "TwoWheeler_submit_review_click_Commerce_ProductDetailsPage_24",
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        'product_name': data.product_name,
        'rating': data.rating,
        'customer_id': data.customer_id,
        'available_to_spend': data.available_to_spend
    };
});
/*******************   2W submit a review click dl End  *******************/

_registerDataLayerFunction(function TwoWheeler_have_a_promocode_click_cart_page_3(data) {
    return {
        'event': 'TwoWheeler_have_a_promocode_click_cart_page_3',
        'pageType': "Product Detail Page",
        'pageTitle': "PDP",
        "product_name": data.product_name,
        "customer_id": data.customer_id,
        "available_to_spend": data.available_to_spend,
    };
});

/***************** Store Pick Up Continue CTA *******************/
_registerDataLayerFunction(function continue_click_for_doc_required(dataObj) {
    return {
        "event": 'continue_click_for doc required',
        "eventCategory": 'continue_click_for doc required',
        "eventAction": dataObj.eventAction,
        'magento_id': dataObj.magento_id,
        'customerid': dataObj.customer_id,
        'Dealer_ID': dataObj.dealer_id,
        'Model_ID': dataObj.model_id,
        'Product_Name': dataObj.productName
    };
});
/***************** Store Pick Up Continue/Cancel CTA *******************/
/******************  L1 level of hamburger menu DATALAYER START ***************/

_registerDataLayerFunction(function Header_navigation_click_L1(dataObj) {
    return {
        "event": 'Header_navigation_click_L1',
        "eventCategory": 'Header Navigation',
        "eventAction": dataObj.eventAction,
        "eventLabel":dataObj.eventLabel,
        "pageType":dataObj.pageType,
        "pageTitle":dataObj.pageTitle,
        "customer Id":dataObj['customer Id'],
        "available_to_spend":dataObj.available_to_spend
    };
});

/******************  L1 level of hamburger menu  DATALAYER END ***************/

		/******************* Bajaj Mall Logo DATALAYER START *******************/
		_registerDataLayerFunction(function logo_click_all_pages_1(dataObj) {
		            return {
		                "event": "logo_click_all_pages_1",
		                "eventCategory": "Header Navigation",
		                "eventAction": "BajajMall Logo click",
		                'Customer id': dataObj.customer_id,
		                'pageType':dataObj.Page_type,
		                'pageTitle':dataObj.Page_title,
		                'available_to_spend' :dataObj.available_to_spend
		            };
		        });
		/*******************Bajaj Mall Logo DATALAYER END *******************/
		
		/******************* L0 Menu Item Click DATALAYER START *******************/
		_registerDataLayerFunction(function Header_navigation_click_L0(dataObj) {
		            return {
		                "event": "Header_navigation_click_L0",
		                "eventCategory": "Header Navigation",
		                "eventAction": "L0 Menu click",
		                'Customer id': dataObj.customer_id,
						'eventLabel':dataObj.eventLabel,
		                'pageType':dataObj.Page_type,
		                'pageTitle':dataObj.Page_title,
		                'available_to_spend' :dataObj.available_to_spend
		            };
		        });
		/******************* L0 Menu Item Click DATALAYER END *******************/

         /**Datalayer When user clicks on any of the L2 menu start*/

         _registerDataLayerFunction(function Header_navigation_click(dataObj) {

            return {
                'event': 'Header_navigation_click',
                'eventCategory': 'Header Navigation',
                'eventAction': dataObj.event_action,
                'eventLabel': dataObj.event_label,
                'Customer id': dataObj.customer_id,
                'pageType':dataObj.Page_type,
                'pageTitle':dataObj.Page_title,
                'available_to_spend' :dataObj.available_to_spend
            }
        });

        _registerDataLayerFunction(function Header_navigation_click_floatingTile(dataObj) {

            return {
                'event': 'Header_navigation_click_floatingTile',
                'eventCategory': 'Header Navigation',
                'eventAction': dataObj.event_action,
                'eventLabel': dataObj.event_label,
                'Customer id': dataObj.customer_id,
                'pageType':dataObj.Page_type,
                'pageTitle':dataObj.Page_title,
                'available_to_spend' :dataObj.available_to_spend
            }
        });

        _registerDataLayerFunction(function Search_Click(dataObj) {
            var Obj = {
                'event': 'Search_Click',
                'eventCategory': 'Search Click',
                'eventAction': dataObj.clickType,
                'evenLabel': dataObj.searchTerm,
                'Customer ID':dataObj["customer Id"]
            }
            console.log(Obj);
            return {'event':'Search_Click',
            'eventCategory':'Search Click',
            'eventAction': dataObj.clickType,
            'evenLabel':dataObj.searchTerm,
            'Customer ID':dataObj["customer Id"]
            };
        });
        
        
        /** Datalayer When user clicks on any of the L2 menu End */
/****************** Download App DATALAYER START ***************/
_registerDataLayerFunction(function Download_App_Now(dataobj) {
    return {
        'event': 'Download_App_Now',
        'eventCategory': 'Download_App_Now',
        'eventAction': dataobj.eventAction,
        'eventLabel': '',
        'Magento ID': dataobj.magentoId,
        'Page title': dataobj.pageTitle,
        'Customer ID': dataobj.customerId
    }
});
/****************** Download App DATALAYER END ***************/
/******************** Voice Search DL Start *********************/
_registerDataLayerFunction(function Voice_Search(data) {
	return {
		'event': 'Voice_Search',
		'eventCategory': data.eventCategory,
		'eventAction': data.eventAction,
		'customer_id': data.customer_id,
		'pageType': data.pageType,
		'magentoId':data.MagentoID,
		'gtm.uniqueEventId': 226
	}
});
/******************** Voice Search DL End *********************/

/******************* Header Tool tip DL Start ************************/
_registerDataLayerFunction(function Header_LoanPodTooltip(dataObj)
     {
         dataLayer.push({
       'event':'Header_LoanPodTooltip',
       'eventCategory':dataObj.page_type,
       'eventAction':dataObj.event_action,
       'magento_id': dataObj.magento_id,
       'customerid': " ",
       'Customer_Type' : dataObj.customer_type
        })
    });
/******************* Header Tool tip DL End ************************/

/********** Get Directions DL START **********/
_registerDataLayerFunction(function Two_wheeler_MMI(dataobj) {
    return {
        'event': 'Two_wheeler_MMI',
        'eventCategory': dataobj.eventCategory,
        'eventAction': dataobj.eventAction,
		'Model_ID' : dataobj.model_id,
		'Dealer_ID': dataobj.dealer_id,
		'PageType': dataobj.page_type,
		'CustomerID':dataobj.customerId,
		'MagentoID':dataobj.magentoId
    }
});
/********** Get Directions DL END **********/

_registerDataLayerFunction(function Two_Wheeler_Loan_POD(dataObj) {
    return {
        'event':'Two Wheeler Loan POD',
        'eventCategory':'Two Wheeler Loan POD',
        'eventAction':dataObj.eventAction,
        'eventLabel':dataObj.eventLabel,
        'model_id':dataObj.model_id,    
        'magento_id':dataObj.magento_id,
        'ProductName':dataObj.productName
    }
});

_registerDataLayerFunction(function PDP_drop_off(dataObj) {
    dataLayer.push({
    'event':'PDP_drop_off',
    'eventCategory':'PDP_drop_off',
    'Magento_ID': dataObj.Magento_ID,
    'Customer_ID':dataObj.Customer_ID,
    'Product_Name': dataObj.Product_Name,
    'Customer_Type': dataObj.Customer_Type,
    'lead_type': "Hot",
    'Page_Type': "PDP"
})
});

return jsHelper.freezeObj(dataLayerEventsObj);

})(_global.jsHelper);

    _global.jsHelper.defineReadOnlyObjProp(_global, "dataLayerEvents", dataLayerEvents);

})(this);
