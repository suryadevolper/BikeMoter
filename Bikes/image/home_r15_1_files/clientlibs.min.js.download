window.addEventListener("DOMContentLoaded",function(){$("body").hasClass("nav-scroll")?$(".promoCode-banner-with-timer").addClass("nav-class"):$(".promoCode-banner-with-timer").removeClass("nav-class");page_Type.includes("pdp")||page_Type.includes("plp")||displayOtherBanner()});var bannerInterval;
function displayOtherBanner(){var a=JSON.parse($(".promoCode-banner-offer-timer").attr("data-attr").replaceAll("'",'"').replace('"{',"{").replace('}"',"}"));displayCountDown(new Date(a.startime),new Date(a.endtime));setTimeout(function(){$(".promoCode-banner-offer-timer").removeClass("i-dsp-none")},1E3)}
function displayCountDown(a,b){var c=new Date;c>a&&c<b?(clearInterval(bannerInterval),$(".timer-main-div").removeClass("i-dsp-none"),bannerInterval=setInterval(function(){c=new Date;var a=b-c,d=Math.floor(a%864E5/36E5)+24*Math.floor(a/864E5),e=Math.floor(a%36E5/6E4),f=Math.floor(a%6E4/1E3);$("#banner-hour-txt").text(d);$("#banner-min-txt").text(e);$("#banner-sec-txt").text(f);0>a&&($(".timer-main-div").addClass("i-dsp-none"),clearInterval(bannerInterval))},1E3)):bannerInterval&&($(".timer-main-div").addClass("i-dsp-none"),
clearInterval(bannerInterval))}function renderBanner(a){a.checktoshow&&0<a.desktopimage.length&&0<a.mobileimage.length&&($("#mv-banner-img").attr("srcset",a.mobileimage),$("#dv-banner-img").attr("src",a.desktopimage),$("#promoCode-banner-link").attr("href",a.redirectionlink),$("#timer-banner-txt").text(a.timerhighlights),displayCountDown(new Date(a.startime),new Date(a.endtime)),setTimeout(function(){$(".promoCode-banner-offer-timer").removeClass("i-dsp-none")},1E3))}
function displayBannerTimer(a,b){a&&0<b.length&&"string"!==typeof b?page_Type.includes("pdp")?renderBanner(b[0]):page_Type.includes("plp")?b.forEach(function(a){a.citytype==cityType&&renderBanner(a)}):$(".promoCode-banner-offer-timer").addClass("i-dsp-none"):$(".promoCode-banner-offer-timer").addClass("i-dsp-none")}
function promocodeBannerDisplay(){$(".promoCode-banner-offer-timer").addClass("i-dsp-none");var a="";page_Type.includes("pdp")?a="/content/emistoremarketplace/contentFragment?path\x3d/content/dam/emistoremarketplace/emimall-content-fragment/banner-deatils/"+page_Type+"/"+selectedDeliverySeller.Offer.ProductCode.toLowerCase():page_Type.includes("plp")&&(a="/content/emistoremarketplace/contentFragment?path\x3d/content/dam/emistoremarketplace/emimall-content-fragment/banner-deatils/"+page_Type+"/"+plpCategoryId);
0<a.length&&sendApiRequest("",a,"","GET",displayBannerTimer)};